{"ast":null,"code":"var _jsxFileName = \"/home/marta/Dokumenty/DYPLOM/copper_shop_template/src/App.js\";\nimport React, { Component } from 'react';\nimport { HashRouter, Route } from 'react-router-dom';\nimport Home from \"./components/home/Home\";\nimport Shop from \"./components/shop/Shop\";\nimport Contact from \"./components/contact/Contact\";\nimport AboutUs from \"./components/about_us/AboutUs\";\nimport Login from \"./components/login_and_registration/login/Login\";\nimport Registration from \"./components/login_and_registration/registration/Registration\";\nimport Basket from \"./components/shop/basket/Basket\";\nimport UserPanel from \"./components/shop/user_panel/UserPanel\";\n\nclass App extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      products: [],\n      login: \"\",\n      basket: [],\n      basketSum: \"000\",\n      basketStep: 1,\n      basketAmount: 0,\n      totalSum: \"\",\n      currentDelivery: \"\",\n      currentDeliveryType: \"\",\n      delivery: {\n        letter: \"800\",\n        inPost: \"1000\",\n        courier: \"2000\"\n      },\n      deliveryDetails: {\n        name: \"\",\n        surname: \"\",\n        email: \"\",\n        address: \"\",\n        zipCode: \"\",\n        city: \"\",\n        phone: \"\"\n      },\n      deliveryDetailsVal: false,\n      currentUserPanelStep: \"test\"\n    };\n\n    this.setUserPanelStep = currentStep => {\n      this.setState({\n        currentUserPanelStep: currentStep\n      });\n    };\n\n    this.setLogin = user => {\n      this.setState({\n        login: user\n      });\n    };\n\n    this.setClearLogin = () => {\n      this.setState({\n        login: \"\"\n      });\n    };\n\n    this.priceDisplay = price => {\n      return price.substr(0, price.length - 2) + \",\" + price.substr(price.length - 2, 2) + \"zł\";\n    };\n\n    this.basketAdd = productAdded => {\n      let productExistIndex;\n      let newBasket;\n\n      for (let i = 0; i < this.state.basket.length; i++) {\n        if (+this.state.basket[i].product.id === +productAdded.id) {\n          productExistIndex = i;\n        }\n      }\n\n      if (!productExistIndex && productExistIndex !== 0) {\n        let newAmount = 1;\n        let newProduct = productAdded;\n        newBasket = [...this.state.basket];\n        newBasket.push({\n          product: newProduct,\n          amount: newAmount,\n          total: (+newAmount * +newProduct.price).toString()\n        });\n      } else if (productExistIndex >= 0) {\n        newBasket = [...this.state.basket];\n        newBasket[productExistIndex].amount++;\n        newBasket[productExistIndex].total = (+ +newBasket[productExistIndex].amount * +newBasket[productExistIndex].product.price).toString();\n      }\n\n      this.basketSummary(newBasket);\n    };\n\n    this.handleAddBasketElement = (e, target) => {\n      const {\n        products,\n        basket\n      } = this.state;\n      let available = true;\n      let index;\n\n      function productsLoop() {\n        for (let j = 0; j < products.length; j++) {\n          if (+products[j].id === +target.id) {\n            index = j;\n            break;\n          }\n        }\n      }\n\n      if (basket.length === 0) {\n        productsLoop();\n      } else {\n        for (let i = 0; i < basket.length; i++) {\n          if (+basket[i].product.id === +target.id && +basket[i].amount === +target.quantity) {\n            available = false;\n            alert(\"Dodałeś już maksymalną ilość tego produktu do swojego koszyka\");\n          }\n\n          productsLoop();\n        }\n      }\n\n      if (available && (index || index === 0)) {\n        this.props.basketAdd(products[index]);\n      }\n    };\n\n    this.basketDelete = target => {\n      let productExistIndex;\n      let newBasket;\n      let toDelete;\n\n      if (typeof target === \"object\") {\n        toDelete = target.parentNode.parentNode.getElementsByClassName(\"basket-product-name\")[0].getElementsByTagName(\"span\")[0].innerText;\n      }\n\n      for (let i = 0; i < this.state.basket.length; i++) {\n        if (+this.state.basket[i].product.id === +toDelete) {\n          productExistIndex = i;\n          break;\n        }\n      }\n\n      newBasket = [...this.state.basket];\n      delete newBasket[productExistIndex];\n      let newBasket2 = [];\n\n      for (let i = 0; i < newBasket.length; i++) {\n        if (newBasket[i] !== newBasket[productExistIndex]) {\n          newBasket2.push(newBasket[i]);\n        }\n      }\n\n      this.basketSummary(newBasket2);\n\n      if (this.state.currentDelivery) {\n        this.handleChangeCurrentDelivery(this.state.currentDelivery);\n        this.handleChangeTotalSum(this.basketSummary(newBasket2), this.state.currentDelivery);\n      }\n\n      return newBasket2;\n    };\n\n    this.basketOnAmountChange = target => {\n      let productExistIndex;\n      let newBasket;\n      let toEdit;\n\n      if (typeof target === \"object\") {\n        toEdit = target.parentNode.parentNode.getElementsByClassName(\"basket-product-name\")[0].getElementsByTagName(\"span\")[0].innerText;\n      }\n\n      if (target.value === \"0\") {\n        this.basketDelete(target.parentNode.parentNode.getElementsByClassName(\"basket-product-bin\")[0].getElementsByTagName(\"i\")[0]);\n        newBasket = this.basketDelete(target.parentNode.parentNode.getElementsByClassName(\"basket-product-bin\")[0].getElementsByTagName(\"i\")[0]);\n      } else {\n        for (let i = 0; i < this.state.basket.length; i++) {\n          if (+this.state.basket[i].product.id === +toEdit) {\n            productExistIndex = i;\n            break;\n          }\n        }\n\n        newBasket = [...this.state.basket];\n        newBasket[productExistIndex].amount = target.value.toString();\n        newBasket[productExistIndex].total = (+ +newBasket[productExistIndex].amount * +newBasket[productExistIndex].product.price).toString();\n      }\n\n      this.basketSummary(newBasket);\n\n      if (this.state.currentDelivery) {\n        this.handleChangeCurrentDelivery(this.state.currentDelivery);\n        this.handleChangeTotalSum(this.basketSummary(newBasket), this.state.currentDelivery);\n      }\n    };\n\n    this.basketSummary = newBasket => {\n      let summary = 0;\n      let amount = 0;\n\n      for (let i = 0; i < newBasket.length; i++) {\n        summary = (+summary + +newBasket[i].total).toString();\n        amount = amount + +newBasket[i].amount;\n      }\n\n      this.setState({\n        basket: newBasket,\n        basketSum: summary,\n        basketAmount: amount\n      });\n      return summary;\n    };\n\n    this.handleChangeTotalSum = (products, delivery) => {\n      let total = (+products + +delivery).toString();\n      this.setState({\n        totalSum: total\n      });\n    };\n\n    this.basketSetClear = () => {\n      this.setState({\n        basket: [],\n        basketSum: \"000\",\n        basketAmount: 0,\n        totalSum: \"\",\n        currentDelivery: \"\",\n        currentDeliveryType: \"\",\n        delivery: {\n          letter: \"800\",\n          inPost: \"1000\",\n          courier: \"2000\"\n        },\n        deliveryDetails: {\n          name: \"\",\n          surname: \"\",\n          email: \"\",\n          address: \"\",\n          zipCode: \"\",\n          city: \"\",\n          phone: \"\"\n        },\n        deliveryDetailsVal: false\n      });\n    };\n\n    this.setBasketStep = currentStep => {\n      this.setState({\n        basketStep: currentStep\n      });\n    };\n\n    this.basketSetClearStep = () => {\n      this.setState({\n        basketStep: 1\n      });\n    };\n\n    this.handleChangeDeliveryDetails = (name, surname, email, address, zipCode, city, phone) => {\n      this.setState({\n        deliveryDetails: {\n          name: name,\n          surname: surname,\n          email: email,\n          address: address,\n          zipCode: zipCode,\n          city: city,\n          phone: phone\n        },\n        deliveryDetailsVal: true\n      });\n    };\n\n    this.handleDeliveryChange = (delivery, deliveryType) => {\n      this.handleChangeCurrentDelivery(delivery, deliveryType);\n      this.handleChangeTotalSum(this.state.basketSum, delivery);\n    };\n\n    this.handleChangeCurrentDelivery = (currentDelivery, currentDeliveryType) => {\n      this.setState({\n        currentDelivery: currentDelivery,\n        currentDeliveryType: currentDeliveryType\n      });\n    };\n  }\n\n  componentDidMount() {\n    const url = \"http://localhost:3000/products\";\n    fetch(url).then(response => {\n      return response.json();\n    }).then(products => {\n      this.setState({\n        products: products\n      });\n    }).catch(function (error) {\n      console.log(error);\n    });\n  }\n\n  render() {\n    const {\n      login,\n      basket,\n      basketSum,\n      basketStep,\n      basketAmount,\n      currentDelivery,\n      totalSum,\n      delivery,\n      deliveryDetailsVal,\n      deliveryDetails,\n      currentDeliveryType,\n      currentUserPanelStep\n    } = this.state;\n    return /*#__PURE__*/React.createElement(HashRouter, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 360,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: \"/\",\n      render: () => /*#__PURE__*/React.createElement(Home, {\n        path: \"/\",\n        login: login,\n        setClearLogin: this.setClearLogin,\n        setUserPanelStep: this.setUserPanelStep,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 362,\n          columnNumber: 57\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 362,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: \"/shop\",\n      render: () => /*#__PURE__*/React.createElement(Shop, {\n        path: \"/shop\",\n        login: login,\n        setClearLogin: this.setClearLogin,\n        handleAddBasketElement: this.handleAddBasketElement,\n        basketSum: basketSum,\n        setBasketStep: this.setBasketStep,\n        basketAmount: basketAmount,\n        basket: basket,\n        setUserPanelStep: this.setUserPanelStep,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 366,\n          columnNumber: 61\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 366,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: \"/user-panel\",\n      render: () => /*#__PURE__*/React.createElement(UserPanel, {\n        path: \"/user-panel\",\n        login: login,\n        setClearLogin: this.setClearLogin,\n        basketSum: basketSum,\n        basketAmount: basketAmount,\n        currentUserPanelStep: currentUserPanelStep,\n        setUserPanelStep: this.setUserPanelStep,\n        priceDisplay: this.priceDisplay,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 375,\n          columnNumber: 67\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 375,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: \"/contact\",\n      render: () => /*#__PURE__*/React.createElement(Contact, {\n        path: \"/contact\",\n        login: login,\n        setClearLogin: this.setClearLogin,\n        setUserPanelStep: this.setUserPanelStep,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 383,\n          columnNumber: 64\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 383,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: \"/about_us\",\n      render: () => /*#__PURE__*/React.createElement(AboutUs, {\n        path: \"/about_us\",\n        login: login,\n        setClearLogin: this.setClearLogin,\n        setUserPanelStep: this.setUserPanelStep,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 387,\n          columnNumber: 65\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 387,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: \"/login\",\n      render: () => /*#__PURE__*/React.createElement(Login, {\n        path: \"/login\",\n        setLogin: this.setLogin,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 391,\n          columnNumber: 62\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 391,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: \"/registration\",\n      render: () => /*#__PURE__*/React.createElement(Registration, {\n        path: \"/registration\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 393,\n          columnNumber: 69\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 393,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: \"/basket\",\n      render: () => /*#__PURE__*/React.createElement(Basket, {\n        path: \"/basket\",\n        login: login,\n        priceDisplay: this.priceDisplay,\n        setBasketStep: this.setBasketStep,\n        basket: basket,\n        basketSum: basketSum,\n        basketPath: \"/basket\",\n        basketStep: basketStep,\n        basketAmount: basketAmount,\n        basketDelete: this.basketDelete,\n        basketSetClear: this.basketSetClear,\n        basketSetClearStep: this.basketSetClearStep,\n        basketOnAmountChange: this.basketOnAmountChange,\n        handleChangeCurrentDelivery: this.handleChangeCurrentDelivery,\n        currentDelivery: currentDelivery,\n        currentDeliveryType: currentDeliveryType,\n        totalSum: totalSum,\n        delivery: delivery,\n        deliveryDetailsVal: deliveryDetailsVal,\n        deliveryDetails: deliveryDetails,\n        handleDeliveryChange: this.handleDeliveryChange,\n        handleChangeDeliveryDetails: this.handleChangeDeliveryDetails,\n        setUserPanelStep: this.setUserPanelStep,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 394,\n          columnNumber: 63\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 394,\n        columnNumber: 21\n      }\n    })));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/home/marta/Dokumenty/DYPLOM/copper_shop_template/src/App.js"],"names":["React","Component","HashRouter","Route","Home","Shop","Contact","AboutUs","Login","Registration","Basket","UserPanel","App","state","products","login","basket","basketSum","basketStep","basketAmount","totalSum","currentDelivery","currentDeliveryType","delivery","letter","inPost","courier","deliveryDetails","name","surname","email","address","zipCode","city","phone","deliveryDetailsVal","currentUserPanelStep","setUserPanelStep","currentStep","setState","setLogin","user","setClearLogin","priceDisplay","price","substr","length","basketAdd","productAdded","productExistIndex","newBasket","i","product","id","newAmount","newProduct","push","amount","total","toString","basketSummary","handleAddBasketElement","e","target","available","index","productsLoop","j","quantity","alert","props","basketDelete","toDelete","parentNode","getElementsByClassName","getElementsByTagName","innerText","newBasket2","handleChangeCurrentDelivery","handleChangeTotalSum","basketOnAmountChange","toEdit","value","summary","basketSetClear","setBasketStep","basketSetClearStep","handleChangeDeliveryDetails","handleDeliveryChange","deliveryType","componentDidMount","url","fetch","then","response","json","catch","error","console","log","render"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport {\n    HashRouter,\n    Route,\n} from 'react-router-dom';\nimport Home from \"./components/home/Home\";\nimport Shop from \"./components/shop/Shop\";\nimport Contact from \"./components/contact/Contact\";\nimport AboutUs from \"./components/about_us/AboutUs\";\nimport Login from \"./components/login_and_registration/login/Login\";\nimport Registration from \"./components/login_and_registration/registration/Registration\";\nimport Basket from \"./components/shop/basket/Basket\";\nimport UserPanel from \"./components/shop/user_panel/UserPanel\";\n\nclass App extends Component\n{\n    state =\n        {\n            products: [],\n            login: \"\",\n            basket: [],\n            basketSum: \"000\",\n\n            basketStep: 1,\n            basketAmount: 0,\n            totalSum: \"\",\n\n            currentDelivery: \"\",\n            currentDeliveryType: \"\",\n\n            delivery: {\n                letter: \"800\",\n                inPost: \"1000\",\n                courier: \"2000\",\n            },\n\n            deliveryDetails:{\n                name: \"\",\n                surname: \"\",\n                email: \"\",\n                address: \"\",\n                zipCode: \"\",\n                city: \"\",\n                phone: \"\",\n            },\n\n            deliveryDetailsVal: false,\n\n            currentUserPanelStep: \"test\"\n        };\n\n    componentDidMount() {\n\n        const url = \"http://localhost:3000/products\";\n\n        fetch(url)\n        .then(response => {\n            return response.json()\n        })\n        .then(products =>\n        {\n            this.setState({\n                products: products\n            });\n        })\n        .catch(function(error) {\n            console.log(error);\n        });\n    };\n\n    setUserPanelStep = (currentStep) =>\n    {\n        this.setState({\n            currentUserPanelStep: currentStep\n        });\n    };\n\n    setLogin = (user) =>\n    {\n        this.setState({\n            login: user\n        })\n    };\n\n    setClearLogin = () =>\n    {\n        this.setState({\n            login: \"\",\n        })\n    };\n\n    priceDisplay = (price) =>\n    {\n        return price.substr(0, price.length-2) + \",\" +\n            price.substr(price.length-2, 2)  + \"zł\"\n    };\n\n    basketAdd = (productAdded) =>\n    {\n        let productExistIndex;\n        let newBasket;\n\n        for (let i = 0; i < this.state.basket.length; i++)\n        {\n            if(+this.state.basket[i].product.id === +productAdded.id)\n            {\n                productExistIndex = i;\n            }\n        }\n        if(!productExistIndex && productExistIndex !== 0)\n        {\n            let newAmount = 1;\n            let newProduct = productAdded;\n            newBasket = [...this.state.basket];\n            newBasket.push({\n                product: newProduct,\n                amount: newAmount,\n                total: (+newAmount * +newProduct.price).toString()\n            });\n        }\n        else if (productExistIndex >= 0)\n        {\n            newBasket = [...this.state.basket];\n            newBasket[productExistIndex].amount++;\n            newBasket[productExistIndex].total = (+(+newBasket[productExistIndex].amount) * +newBasket[productExistIndex].product.price).toString();\n        }\n        this.basketSummary(newBasket);\n    };\n\n\n    handleAddBasketElement = (e, target) =>\n    {\n        const {products, basket} = this.state;\n\n        let available = true\n        let index;\n\n        function productsLoop() {\n            for (let j = 0; j < products.length; j++)\n            {\n                if(+products[j].id === +target.id)\n                {\n                    index = j\n                    break;\n                }\n            }\n        }\n\n        if(basket.length === 0)\n        {\n            productsLoop();\n        }\n        else\n        {\n            for (let i = 0; i < basket.length; i++)\n            {\n                if(+basket[i].product.id === +target.id && +basket[i].amount === +target.quantity )\n                {\n                    available = false\n                    alert(\"Dodałeś już maksymalną ilość tego produktu do swojego koszyka\");\n                }\n                productsLoop();\n            }\n        }\n\n        if(available && (index || index === 0))\n        {\n            this.props.basketAdd(products[index]);\n        }\n    }\n\n    basketDelete = (target) =>\n    {\n        let productExistIndex;\n        let newBasket;\n        let toDelete;\n\n        if(typeof target === \"object\")\n        {\n            toDelete = target.parentNode.parentNode.getElementsByClassName(\"basket-product-name\")[0].getElementsByTagName(\"span\")[0].innerText;\n        }\n        for (let i = 0; i < this.state.basket.length; i++)\n        {\n            if(+this.state.basket[i].product.id === +toDelete)\n            {\n                productExistIndex = i;\n                break;\n            }\n        }\n        newBasket = [...this.state.basket];\n        delete newBasket[productExistIndex];\n\n        let newBasket2 = [];\n\n        for (let i = 0; i < newBasket.length; i++)\n        {\n            if(newBasket[i] !== newBasket[productExistIndex])\n            {\n                newBasket2.push(newBasket[i]);\n            }\n        }\n        this.basketSummary(newBasket2);\n        if(this.state.currentDelivery)\n        {\n            this.handleChangeCurrentDelivery(this.state.currentDelivery);\n            this.handleChangeTotalSum(this.basketSummary(newBasket2), this.state.currentDelivery);\n        }\n        return newBasket2;\n    };\n\n    basketOnAmountChange = (target) =>\n    {\n        let productExistIndex;\n        let newBasket;\n        let toEdit;\n\n        if(typeof target === \"object\")\n        {\n            toEdit = target.parentNode.parentNode.getElementsByClassName(\"basket-product-name\")[0].getElementsByTagName(\"span\")[0].innerText;\n        }\n\n        if(target.value === \"0\")\n        {\n            this.basketDelete(target.parentNode.parentNode.getElementsByClassName(\"basket-product-bin\")[0].getElementsByTagName(\"i\")[0]);\n            newBasket = this.basketDelete(target.parentNode.parentNode.getElementsByClassName(\"basket-product-bin\")[0].getElementsByTagName(\"i\")[0]);\n        }\n        else\n        {\n            for (let i = 0; i < this.state.basket.length; i++)\n            {\n                if(+this.state.basket[i].product.id === +toEdit)\n                {\n                    productExistIndex = i;\n                    break;\n                }\n            }\n            newBasket = [...this.state.basket];\n            newBasket[productExistIndex].amount = target.value.toString();\n            newBasket[productExistIndex].total = (+(+newBasket[productExistIndex].amount) * +newBasket[productExistIndex].product.price).toString();\n        }\n\n        this.basketSummary(newBasket);\n        if(this.state.currentDelivery)\n        {\n            this.handleChangeCurrentDelivery(this.state.currentDelivery);\n            this.handleChangeTotalSum(this.basketSummary(newBasket), this.state.currentDelivery);\n        }\n\n    };\n\n    basketSummary = (newBasket) =>\n    {\n        let summary = 0;\n        let amount = 0;\n\n        for (let i = 0; i < newBasket.length ; i++)\n        {\n            summary = (+summary + +newBasket[i].total).toString();\n            amount = amount + +newBasket[i].amount\n        }\n\n        this.setState({\n            basket: newBasket,\n            basketSum: summary,\n            basketAmount: amount\n        });\n        return summary;\n    };\n\n    handleChangeTotalSum = (products, delivery) =>\n    {\n        let total = (+products + +delivery).toString();\n\n        this.setState({\n            totalSum: total\n        });\n    };\n\n    basketSetClear = () =>\n    {\n        this.setState({\n            basket: [],\n            basketSum: \"000\",\n\n            basketAmount: 0,\n            totalSum: \"\",\n\n            currentDelivery: \"\",\n            currentDeliveryType: \"\",\n\n            delivery: {\n                letter: \"800\",\n                inPost: \"1000\",\n                courier: \"2000\",\n            },\n\n            deliveryDetails:{\n                name: \"\",\n                surname: \"\",\n                email: \"\",\n                address: \"\",\n                zipCode: \"\",\n                city: \"\",\n                phone: \"\",\n            },\n\n            deliveryDetailsVal: false\n            })\n    };\n\n    setBasketStep = (currentStep) =>\n    {\n        this.setState({\n            basketStep: currentStep\n        });\n    };\n\n    basketSetClearStep = () =>\n    {\n        this.setState({\n            basketStep: 1\n        })\n    };\n\n    handleChangeDeliveryDetails = (name, surname, email, address, zipCode, city, phone) =>\n    {\n        this.setState({\n            deliveryDetails:\n                {\n                    name: name,\n                    surname: surname,\n                    email: email,\n                    address: address,\n                    zipCode: zipCode,\n                    city: city,\n                    phone: phone,\n                },\n            deliveryDetailsVal: true\n        });\n    };\n\n    handleDeliveryChange = (delivery, deliveryType) =>\n    {\n        this.handleChangeCurrentDelivery(delivery, deliveryType);\n        this.handleChangeTotalSum(this.state.basketSum, delivery);\n    };\n\n    handleChangeCurrentDelivery = (currentDelivery, currentDeliveryType) =>\n    {\n        this.setState({\n            currentDelivery: currentDelivery,\n            currentDeliveryType: currentDeliveryType\n        });\n    };\n\n    render() {\n        const {login, basket, basketSum, basketStep, basketAmount, currentDelivery, totalSum,\n            delivery, deliveryDetailsVal, deliveryDetails, currentDeliveryType, currentUserPanelStep} = this.state;\n        return (\n            <HashRouter>\n                <>\n                    <Route exact path='/' render={() => <Home path=\"/\"\n                                                              login={login}\n                                                              setClearLogin={this.setClearLogin}\n                                                              setUserPanelStep={this.setUserPanelStep}/>}/>\n                    <Route exact path='/shop' render={() => <Shop path=\"/shop\"\n                                                                  login={login}\n                                                                  setClearLogin={this.setClearLogin}\n                                                                  handleAddBasketElement={this.handleAddBasketElement}\n                                                                  basketSum={basketSum}\n                                                                  setBasketStep={this.setBasketStep}\n                                                                  basketAmount={basketAmount}\n                                                                  basket={basket}\n                                                                  setUserPanelStep={this.setUserPanelStep}/>}/>\n                    <Route exact path='/user-panel' render={() => <UserPanel path=\"/user-panel\"\n                                                                             login={login}\n                                                                             setClearLogin={this.setClearLogin}\n                                                                             basketSum={basketSum}\n                                                                             basketAmount={basketAmount}\n                                                                             currentUserPanelStep={currentUserPanelStep}\n                                                                             setUserPanelStep={this.setUserPanelStep}\n                                                                             priceDisplay={this.priceDisplay}/>}/>\n                    <Route exact path='/contact' render={() => <Contact path=\"/contact\"\n                                                                        login={login}\n                                                                        setClearLogin={this.setClearLogin}\n                                                                        setUserPanelStep={this.setUserPanelStep}/>}/>\n                    <Route exact path='/about_us' render={() => <AboutUs path=\"/about_us\"\n                                                                         login={login}\n                                                                         setClearLogin={this.setClearLogin}\n                                                                         setUserPanelStep={this.setUserPanelStep}/>}/>\n                    <Route exact path='/login' render={() => <Login path=\"/login\"\n                                                                    setLogin={this.setLogin}/>}/>\n                    <Route exact path='/registration' render={() => <Registration path=\"/registration\"/>}/>\n                    <Route exact path='/basket' render={() => <Basket path=\"/basket\"\n                                                                      login={login}\n                                                                      priceDisplay={this.priceDisplay}\n                                                                      setBasketStep={this.setBasketStep}\n                                                                      basket={basket}\n                                                                      basketSum={basketSum}\n                                                                      basketPath=\"/basket\"\n                                                                      basketStep={basketStep}\n                                                                      basketAmount={basketAmount}\n                                                                      basketDelete={this.basketDelete}\n                                                                      basketSetClear={this.basketSetClear}\n                                                                      basketSetClearStep={this.basketSetClearStep}\n                                                                      basketOnAmountChange={this.basketOnAmountChange}\n                                                                      handleChangeCurrentDelivery={this.handleChangeCurrentDelivery}\n                                                                      currentDelivery={currentDelivery}\n                                                                      currentDeliveryType={currentDeliveryType}\n                                                                      totalSum={totalSum}\n                                                                      delivery={delivery}\n                                                                      deliveryDetailsVal={deliveryDetailsVal}\n                                                                      deliveryDetails={deliveryDetails}\n                                                                      handleDeliveryChange={this.handleDeliveryChange}\n                                                                      handleChangeDeliveryDetails={this.handleChangeDeliveryDetails}\n                                                                      setUserPanelStep={this.setUserPanelStep}\n                                                            />}/>\n                </>\n            </HashRouter>\n        );\n    }\n\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}