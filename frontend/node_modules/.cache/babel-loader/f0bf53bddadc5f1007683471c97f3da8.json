{"ast":null,"code":"var _jsxFileName = \"/home/marta/Dokumenty/DYPLOM/copper_shop_template/src/App.js\";\nimport React, { Component } from 'react';\nimport { HashRouter, Route } from 'react-router-dom';\nimport Home from \"./components/home/Home\";\nimport Shop from \"./components/shop/Shop\";\nimport Contact from \"./components/contact/Contact\";\nimport AboutUs from \"./components/about_us/AboutUs\";\nimport Login from \"./components/login_and_registration/login/Login\";\nimport Registration from \"./components/login_and_registration/registration/Registration\";\nimport Basket from \"./components/shop/basket/Basket\";\nimport $ from \"jquery\";\n\nclass App extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      login: \"\",\n      basket: [],\n      basketSum: \"000\",\n      basketStep: 1,\n      basketAmount: 0,\n      totalSum: \"\",\n      currentDelivery: \"\",\n      delivery: {\n        letter: \"800\",\n        inPost: \"1000\",\n        courier: \"2000\"\n      },\n      deliveryDetails: {\n        name: \"\",\n        surname: \"\",\n        email: \"\",\n        address: \"\",\n        zipCode: \"\",\n        city: \"\",\n        phone: \"\"\n      },\n      deliveryDetailsVal: false\n    };\n\n    this.changeDeliveryDetails = (name, surname, email, address, zipCode, city, phone) => {\n      this.setState({\n        deliveryDetails: {\n          name: name,\n          surname: surname,\n          email: email,\n          address: address,\n          zipCode: zipCode,\n          city: city,\n          phone: phone\n        },\n        deliveryDetailsVal: true\n      });\n    };\n\n    this.setBasketStep = currentStep => {\n      this.setState({\n        basketStep: currentStep\n      });\n    };\n\n    this.setLogin = user => {\n      this.setState({\n        login: user\n      });\n    };\n\n    this.setClearLogin = () => {\n      this.setState({\n        login: \"\"\n      });\n    };\n\n    this.basketAdd = productAdded => {\n      let productExistIndex;\n      let newBasket;\n\n      for (let i = 0; i < this.state.basket.length; i++) {\n        if (this.state.basket[i].product === productAdded) {\n          productExistIndex = i;\n        }\n      }\n\n      if (!productExistIndex && productExistIndex !== 0) {\n        let newAmount = 1;\n        let newProduct = productAdded;\n        newBasket = [...this.state.basket];\n        newBasket.push({\n          product: newProduct,\n          amount: newAmount,\n          total: (+newAmount * +newProduct.price).toString()\n        });\n      } else {\n        newBasket = [...this.state.basket];\n        newBasket[productExistIndex].amount++;\n        newBasket[productExistIndex].total = (+ +newBasket[productExistIndex].amount * +newBasket[productExistIndex].product.price).toString();\n      } // this.setState({\n      //     basket: newBasket\n      // });\n\n\n      this.basketSummary(newBasket);\n    };\n\n    this.basketSummary = newBasket => {\n      let summary = 0;\n      let amount = 0;\n\n      for (let i = 0; i < newBasket.length; i++) {\n        summary = (+summary + +newBasket[i].total).toString();\n        amount = amount + +newBasket[i].amount;\n      }\n\n      this.setState({\n        basket: newBasket,\n        basketSum: summary,\n        basketAmount: amount\n      });\n    };\n\n    this.handleDeliveryChange = delivery => {\n      const {\n        basketSum\n      } = this.state;\n      this.handleChangeCurrentDelivery(delivery);\n      this.handleChangeTotalSum(basketSum, delivery);\n    };\n\n    this.handleChangeCurrentDelivery = currentDelivery => {\n      this.setState({\n        currentDelivery: currentDelivery\n      });\n    };\n\n    this.handleChangeTotalSum = (products, delivery) => {\n      let total = (+products + +delivery).toString();\n      this.setState({\n        totalSum: total\n      });\n    };\n\n    this.priceDisplay = price => {\n      return price.substr(0, price.length - 2) + \",\" + price.substr(price.length - 2, 2) + \"zÅ‚\";\n    };\n\n    this.basketDelete = (e, target) => {\n      let productExistIndex;\n      let newBasket;\n      let toDelete; //\n      // $(function () {\n      //     toDelete = target.parent().parent()\n      //     .querySelector(\".basket-product-name\").querySelector(\"span\").value;\n      //     console.log(toDelete);\n      //     return toDelete;\n      //\n      // });\n\n      toDelete = target.parent().parent().getElementsByClassName(\".basket-product-name\").getElementsByTagName(\"span\").value;\n      console.log(toDelete);\n\n      for (let i = 0; i < this.state.basket.length; i++) {\n        if (this.state.basket[i].product.id === toDelete) {\n          productExistIndex = i;\n        }\n      }\n\n      console.log(productExistIndex);\n      newBasket = [...this.state.basket];\n      delete newBasket[productExistIndex];\n      console.log(newBasket);\n      let newBasket2;\n\n      for (let i = 0; i < newBasket.length; i++) {\n        if (!(typeof newBasket[i] === \"undefined\")) {\n          console.log(!(typeof newBasket[i] === \"undefined\"));\n          console.log(typeof newBasket[i]);\n          console.log(newBasket[i]);\n          newBasket2.push(newBasket[i]);\n        }\n      } //this.basketSummary(newBasket2);\n\n    };\n  }\n\n  render() {\n    const {\n      login,\n      basket,\n      basketSum,\n      basketStep,\n      basketAmount,\n      currentDelivery,\n      totalSum,\n      delivery,\n      deliveryDetailsVal,\n      deliveryDetails\n    } = this.state;\n    return /*#__PURE__*/React.createElement(HashRouter, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: \"/\",\n      render: () => /*#__PURE__*/React.createElement(Home, {\n        path: \"/\",\n        login: login,\n        setClearLogin: this.setClearLogin,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 57\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: \"/shop\",\n      render: () => /*#__PURE__*/React.createElement(Shop, {\n        path: \"/shop\",\n        login: login,\n        setClearLogin: this.setClearLogin,\n        basketAdd: this.basketAdd,\n        basketSum: basketSum,\n        setBasketStep: this.setBasketStep,\n        basketAmount: basketAmount,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 61\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: \"/contact\",\n      render: () => /*#__PURE__*/React.createElement(Contact, {\n        path: \"/contact\",\n        login: login,\n        setClearLogin: this.setClearLogin,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 64\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: \"/about_us\",\n      render: () => /*#__PURE__*/React.createElement(AboutUs, {\n        path: \"/about_us\",\n        login: login,\n        setClearLogin: this.setClearLogin,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 65\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: \"/login\",\n      render: () => /*#__PURE__*/React.createElement(Login, {\n        path: \"/login\",\n        setLogin: this.setLogin,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 62\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: \"/registration\",\n      render: () => /*#__PURE__*/React.createElement(Registration, {\n        path: \"/registration\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 69\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: \"/basket\",\n      render: () => /*#__PURE__*/React.createElement(Basket, {\n        path: \"/basket\",\n        login: login,\n        setClearLogin: this.setClearLogin,\n        basket: basket,\n        basketSum: basketSum,\n        basketPath: \"/basket\",\n        setBasketStep: this.setBasketStep,\n        basketStep: basketStep,\n        basketAmount: basketAmount,\n        handleChangeCurrentDelivery: this.handleChangeCurrentDelivery,\n        currentDelivery: currentDelivery,\n        handleChangeTotalSum: this.handleChangeTotalSum,\n        totalSum: totalSum,\n        handleDeliveryChange: this.handleDeliveryChange,\n        delivery: delivery,\n        changeDeliveryDetails: this.changeDeliveryDetails,\n        deliveryDetailsVal: deliveryDetailsVal,\n        deliveryDetails: deliveryDetails,\n        priceDisplay: this.priceDisplay,\n        basketDelete: this.basketDelete,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 63\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 21\n      }\n    })));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/home/marta/Dokumenty/DYPLOM/copper_shop_template/src/App.js"],"names":["React","Component","HashRouter","Route","Home","Shop","Contact","AboutUs","Login","Registration","Basket","$","App","state","login","basket","basketSum","basketStep","basketAmount","totalSum","currentDelivery","delivery","letter","inPost","courier","deliveryDetails","name","surname","email","address","zipCode","city","phone","deliveryDetailsVal","changeDeliveryDetails","setState","setBasketStep","currentStep","setLogin","user","setClearLogin","basketAdd","productAdded","productExistIndex","newBasket","i","length","product","newAmount","newProduct","push","amount","total","price","toString","basketSummary","summary","handleDeliveryChange","handleChangeCurrentDelivery","handleChangeTotalSum","products","priceDisplay","substr","basketDelete","e","target","toDelete","parent","getElementsByClassName","getElementsByTagName","value","console","log","id","newBasket2","render"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,SACIC,UADJ,EAEIC,KAFJ,QAGO,kBAHP;AAIA,OAAOC,IAAP,MAAiB,wBAAjB;AACA,OAAOC,IAAP,MAAiB,wBAAjB;AACA,OAAOC,OAAP,MAAoB,8BAApB;AACA,OAAOC,OAAP,MAAoB,+BAApB;AACA,OAAOC,KAAP,MAAkB,iDAAlB;AACA,OAAOC,YAAP,MAAyB,+DAAzB;AACA,OAAOC,MAAP,MAAmB,iCAAnB;AACA,OAAOC,CAAP,MAAc,QAAd;;AAEA,MAAMC,GAAN,SAAkBX,SAAlB,CACA;AAAA;AAAA;AAAA,SACIY,KADJ,GAEQ;AACIC,MAAAA,KAAK,EAAE,EADX;AAEIC,MAAAA,MAAM,EAAE,EAFZ;AAGIC,MAAAA,SAAS,EAAE,KAHf;AAKIC,MAAAA,UAAU,EAAE,CALhB;AAMIC,MAAAA,YAAY,EAAE,CANlB;AAOIC,MAAAA,QAAQ,EAAE,EAPd;AASIC,MAAAA,eAAe,EAAE,EATrB;AAWIC,MAAAA,QAAQ,EAAE;AACNC,QAAAA,MAAM,EAAE,KADF;AAENC,QAAAA,MAAM,EAAE,MAFF;AAGNC,QAAAA,OAAO,EAAE;AAHH,OAXd;AAiBIC,MAAAA,eAAe,EAAC;AACZC,QAAAA,IAAI,EAAE,EADM;AAEZC,QAAAA,OAAO,EAAE,EAFG;AAGZC,QAAAA,KAAK,EAAE,EAHK;AAIZC,QAAAA,OAAO,EAAE,EAJG;AAKZC,QAAAA,OAAO,EAAE,EALG;AAMZC,QAAAA,IAAI,EAAE,EANM;AAOZC,QAAAA,KAAK,EAAE;AAPK,OAjBpB;AA2BIC,MAAAA,kBAAkB,EAAE;AA3BxB,KAFR;;AAAA,SAiCIC,qBAjCJ,GAiC4B,CAACR,IAAD,EAAOC,OAAP,EAAgBC,KAAhB,EAAuBC,OAAvB,EAAgCC,OAAhC,EAAyCC,IAAzC,EAA+CC,KAA/C,KACxB;AACI,WAAKG,QAAL,CAAc;AACVV,QAAAA,eAAe,EACX;AACIC,UAAAA,IAAI,EAAEA,IADV;AAEIC,UAAAA,OAAO,EAAEA,OAFb;AAGIC,UAAAA,KAAK,EAAEA,KAHX;AAIIC,UAAAA,OAAO,EAAEA,OAJb;AAKIC,UAAAA,OAAO,EAAEA,OALb;AAMIC,UAAAA,IAAI,EAAEA,IANV;AAOIC,UAAAA,KAAK,EAAEA;AAPX,SAFM;AAWVC,QAAAA,kBAAkB,EAAE;AAXV,OAAd;AAaH,KAhDL;;AAAA,SAmDIG,aAnDJ,GAmDqBC,WAAD,IAChB;AACI,WAAKF,QAAL,CAAc;AACVlB,QAAAA,UAAU,EAAEoB;AADF,OAAd;AAGH,KAxDL;;AAAA,SA0DIC,QA1DJ,GA0DgBC,IAAD,IACX;AACI,WAAKJ,QAAL,CAAc;AACVrB,QAAAA,KAAK,EAAEyB;AADG,OAAd;AAGH,KA/DL;;AAAA,SAiEIC,aAjEJ,GAiEoB,MAChB;AACI,WAAKL,QAAL,CAAc;AACVrB,QAAAA,KAAK,EAAE;AADG,OAAd;AAGH,KAtEL;;AAAA,SAwEI2B,SAxEJ,GAwEiBC,YAAD,IACZ;AACI,UAAIC,iBAAJ;AACA,UAAIC,SAAJ;;AAEA,WAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKhC,KAAL,CAAWE,MAAX,CAAkB+B,MAAtC,EAA8CD,CAAC,EAA/C,EACA;AACI,YAAG,KAAKhC,KAAL,CAAWE,MAAX,CAAkB8B,CAAlB,EAAqBE,OAArB,KAAiCL,YAApC,EACA;AACIC,UAAAA,iBAAiB,GAAGE,CAApB;AACH;AACJ;;AACD,UAAG,CAACF,iBAAD,IAAsBA,iBAAiB,KAAK,CAA/C,EACA;AACI,YAAIK,SAAS,GAAG,CAAhB;AACA,YAAIC,UAAU,GAAGP,YAAjB;AACAE,QAAAA,SAAS,GAAG,CAAC,GAAG,KAAK/B,KAAL,CAAWE,MAAf,CAAZ;AACA6B,QAAAA,SAAS,CAACM,IAAV,CAAe;AACXH,UAAAA,OAAO,EAAEE,UADE;AAEXE,UAAAA,MAAM,EAAEH,SAFG;AAGXI,UAAAA,KAAK,EAAE,CAAC,CAACJ,SAAD,GAAa,CAACC,UAAU,CAACI,KAA1B,EAAiCC,QAAjC;AAHI,SAAf;AAKH,OAVD,MAYA;AACIV,QAAAA,SAAS,GAAG,CAAC,GAAG,KAAK/B,KAAL,CAAWE,MAAf,CAAZ;AACA6B,QAAAA,SAAS,CAACD,iBAAD,CAAT,CAA6BQ,MAA7B;AACAP,QAAAA,SAAS,CAACD,iBAAD,CAAT,CAA6BS,KAA7B,GAAqC,CAAC,CAAE,EAACR,SAAS,CAACD,iBAAD,CAAT,CAA6BQ,MAAhC,GAA0C,CAACP,SAAS,CAACD,iBAAD,CAAT,CAA6BI,OAA7B,CAAqCM,KAAjF,EAAwFC,QAAxF,EAArC;AACH,OA3BL,CA6BI;AACA;AACA;;;AAEA,WAAKC,aAAL,CAAmBX,SAAnB;AAEH,KA5GL;;AAAA,SA8GIW,aA9GJ,GA8GqBX,SAAD,IAChB;AACI,UAAIY,OAAO,GAAG,CAAd;AACA,UAAIL,MAAM,GAAG,CAAb;;AAEA,WAAK,IAAIN,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGD,SAAS,CAACE,MAA9B,EAAuCD,CAAC,EAAxC,EACA;AACIW,QAAAA,OAAO,GAAG,CAAC,CAACA,OAAD,GAAW,CAACZ,SAAS,CAACC,CAAD,CAAT,CAAaO,KAA1B,EAAiCE,QAAjC,EAAV;AACAH,QAAAA,MAAM,GAAGA,MAAM,GAAG,CAACP,SAAS,CAACC,CAAD,CAAT,CAAaM,MAAhC;AACH;;AAED,WAAKhB,QAAL,CAAc;AACVpB,QAAAA,MAAM,EAAE6B,SADE;AAEV5B,QAAAA,SAAS,EAAEwC,OAFD;AAGVtC,QAAAA,YAAY,EAAEiC;AAHJ,OAAd;AAKH,KA9HL;;AAAA,SAgIIM,oBAhIJ,GAgI4BpC,QAAD,IACvB;AACI,YAAM;AAACL,QAAAA;AAAD,UAAc,KAAKH,KAAzB;AAEA,WAAK6C,2BAAL,CAAiCrC,QAAjC;AACA,WAAKsC,oBAAL,CAA0B3C,SAA1B,EAAqCK,QAArC;AAEH,KAvIL;;AAAA,SAyIIqC,2BAzIJ,GAyImCtC,eAAD,IAC9B;AACI,WAAKe,QAAL,CAAc;AACVf,QAAAA,eAAe,EAAEA;AADP,OAAd;AAGH,KA9IL;;AAAA,SAgJIuC,oBAhJJ,GAgJ2B,CAACC,QAAD,EAAWvC,QAAX,KACvB;AACI,UAAI+B,KAAK,GAAG,CAAC,CAACQ,QAAD,GAAY,CAACvC,QAAd,EAAwBiC,QAAxB,EAAZ;AAEA,WAAKnB,QAAL,CAAc;AACVhB,QAAAA,QAAQ,EAAEiC;AADA,OAAd;AAGH,KAvJL;;AAAA,SAyJIS,YAzJJ,GAyJoBR,KAAD,IACf;AACI,aAAOA,KAAK,CAACS,MAAN,CAAa,CAAb,EAAgBT,KAAK,CAACP,MAAN,GAAa,CAA7B,IAAkC,GAAlC,GACHO,KAAK,CAACS,MAAN,CAAaT,KAAK,CAACP,MAAN,GAAa,CAA1B,EAA6B,CAA7B,CADG,GACgC,IADvC;AAEH,KA7JL;;AAAA,SA+JIiB,YA/JJ,GA+JmB,CAACC,CAAD,EAAIC,MAAJ,KACf;AACI,UAAItB,iBAAJ;AACA,UAAIC,SAAJ;AACA,UAAIsB,QAAJ,CAHJ,CAII;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACIA,MAAAA,QAAQ,GAAGD,MAAM,CAACE,MAAP,GAAgBA,MAAhB,GACVC,sBADU,CACa,sBADb,EACqCC,oBADrC,CAC0D,MAD1D,EACkEC,KAD7E;AAEAC,MAAAA,OAAO,CAACC,GAAR,CAAYN,QAAZ;;AAEJ,WAAK,IAAIrB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKhC,KAAL,CAAWE,MAAX,CAAkB+B,MAAtC,EAA8CD,CAAC,EAA/C,EACA;AACI,YAAG,KAAKhC,KAAL,CAAWE,MAAX,CAAkB8B,CAAlB,EAAqBE,OAArB,CAA6B0B,EAA7B,KAAoCP,QAAvC,EACA;AACIvB,UAAAA,iBAAiB,GAAGE,CAApB;AACH;AACJ;;AACD0B,MAAAA,OAAO,CAACC,GAAR,CAAY7B,iBAAZ;AAEAC,MAAAA,SAAS,GAAG,CAAC,GAAG,KAAK/B,KAAL,CAAWE,MAAf,CAAZ;AACA,aAAO6B,SAAS,CAACD,iBAAD,CAAhB;AACA4B,MAAAA,OAAO,CAACC,GAAR,CAAY5B,SAAZ;AAEA,UAAI8B,UAAJ;;AAEA,WAAK,IAAI7B,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGD,SAAS,CAACE,MAA9B,EAAsCD,CAAC,EAAvC,EACA;AACI,YAAG,EAAE,OAAOD,SAAS,CAACC,CAAD,CAAhB,KAAwB,WAA1B,CAAH,EACA;AACI0B,UAAAA,OAAO,CAACC,GAAR,CAAY,EAAE,OAAO5B,SAAS,CAACC,CAAD,CAAhB,KAAwB,WAA1B,CAAZ;AACA0B,UAAAA,OAAO,CAACC,GAAR,CAAY,OAAO5B,SAAS,CAACC,CAAD,CAA5B;AACA0B,UAAAA,OAAO,CAACC,GAAR,CAAY5B,SAAS,CAACC,CAAD,CAArB;AACA6B,UAAAA,UAAU,CAACxB,IAAX,CAAgBN,SAAS,CAACC,CAAD,CAAzB;AACH;AACJ,OAxCL,CA0CI;;AAEH,KA5ML;AAAA;;AA8MI8B,EAAAA,MAAM,GAAG;AACL,UAAM;AAAC7D,MAAAA,KAAD;AAAQC,MAAAA,MAAR;AAAgBC,MAAAA,SAAhB;AAA2BC,MAAAA,UAA3B;AAAuCC,MAAAA,YAAvC;AAAqDE,MAAAA,eAArD;AAAsED,MAAAA,QAAtE;AACFE,MAAAA,QADE;AACQY,MAAAA,kBADR;AAC4BR,MAAAA;AAD5B,QAC+C,KAAKZ,KAD1D;AAEA,wBACI,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,uDACI,oBAAC,KAAD;AAAO,MAAA,KAAK,MAAZ;AAAa,MAAA,IAAI,EAAC,GAAlB;AAAsB,MAAA,MAAM,EAAE,mBAAM,oBAAC,IAAD;AAAM,QAAA,IAAI,EAAC,GAAX;AACM,QAAA,KAAK,EAAEC,KADb;AAEM,QAAA,aAAa,EAAE,KAAK0B,aAF1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,eAII,oBAAC,KAAD;AAAO,MAAA,KAAK,MAAZ;AAAa,MAAA,IAAI,EAAC,OAAlB;AAA0B,MAAA,MAAM,EAAE,mBAAM,oBAAC,IAAD;AAAM,QAAA,IAAI,EAAC,OAAX;AACM,QAAA,KAAK,EAAE1B,KADb;AAEM,QAAA,aAAa,EAAE,KAAK0B,aAF1B;AAGM,QAAA,SAAS,EAAE,KAAKC,SAHtB;AAIM,QAAA,SAAS,EAAEzB,SAJjB;AAKM,QAAA,aAAa,EAAE,KAAKoB,aAL1B;AAMM,QAAA,YAAY,EAAElB,YANpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJJ,eAWI,oBAAC,KAAD;AAAO,MAAA,KAAK,MAAZ;AAAa,MAAA,IAAI,EAAC,UAAlB;AAA6B,MAAA,MAAM,EAAE,mBAAM,oBAAC,OAAD;AAAS,QAAA,IAAI,EAAC,UAAd;AACS,QAAA,KAAK,EAAEJ,KADhB;AAES,QAAA,aAAa,EAAE,KAAK0B,aAF7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAA3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAXJ,eAcI,oBAAC,KAAD;AAAO,MAAA,KAAK,MAAZ;AAAa,MAAA,IAAI,EAAC,WAAlB;AAA8B,MAAA,MAAM,EAAE,mBAAM,oBAAC,OAAD;AAAS,QAAA,IAAI,EAAC,WAAd;AACS,QAAA,KAAK,EAAE1B,KADhB;AAES,QAAA,aAAa,EAAE,KAAK0B,aAF7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAdJ,eAiBI,oBAAC,KAAD;AAAO,MAAA,KAAK,MAAZ;AAAa,MAAA,IAAI,EAAC,QAAlB;AAA2B,MAAA,MAAM,EAAE,mBAAM,oBAAC,KAAD;AAAO,QAAA,IAAI,EAAC,QAAZ;AACO,QAAA,QAAQ,EAAE,KAAKF,QADtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAjBJ,eAmBI,oBAAC,KAAD;AAAO,MAAA,KAAK,MAAZ;AAAa,MAAA,IAAI,EAAC,eAAlB;AAAkC,MAAA,MAAM,EAAE,mBAAM,oBAAC,YAAD;AAAc,QAAA,IAAI,EAAC,eAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAnBJ,eAoBI,oBAAC,KAAD;AAAO,MAAA,KAAK,MAAZ;AAAa,MAAA,IAAI,EAAC,SAAlB;AAA4B,MAAA,MAAM,EAAE,mBAAM,oBAAC,MAAD;AAAQ,QAAA,IAAI,EAAC,SAAb;AACQ,QAAA,KAAK,EAAExB,KADf;AAEQ,QAAA,aAAa,EAAE,KAAK0B,aAF5B;AAGQ,QAAA,MAAM,EAAEzB,MAHhB;AAIQ,QAAA,SAAS,EAAEC,SAJnB;AAKQ,QAAA,UAAU,EAAC,SALnB;AAMQ,QAAA,aAAa,EAAE,KAAKoB,aAN5B;AAOQ,QAAA,UAAU,EAAEnB,UAPpB;AAQQ,QAAA,YAAY,EAAEC,YARtB;AASQ,QAAA,2BAA2B,EAAE,KAAKwC,2BAT1C;AAUQ,QAAA,eAAe,EAAEtC,eAVzB;AAWQ,QAAA,oBAAoB,EAAE,KAAKuC,oBAXnC;AAYQ,QAAA,QAAQ,EAAExC,QAZlB;AAaQ,QAAA,oBAAoB,EAAE,KAAKsC,oBAbnC;AAcQ,QAAA,QAAQ,EAAEpC,QAdlB;AAeQ,QAAA,qBAAqB,EAAE,KAAKa,qBAfpC;AAgBQ,QAAA,kBAAkB,EAAED,kBAhB5B;AAiBQ,QAAA,eAAe,EAAER,eAjBzB;AAkBQ,QAAA,YAAY,EAAE,KAAKoC,YAlB3B;AAmBQ,QAAA,YAAY,EAAE,KAAKE,YAnB3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MApBJ,CADJ,CADJ;AA8CH;;AA/PL;;AAmQA,eAAenD,GAAf","sourcesContent":["import React, {Component} from 'react';\nimport {\n    HashRouter,\n    Route,\n} from 'react-router-dom';\nimport Home from \"./components/home/Home\";\nimport Shop from \"./components/shop/Shop\";\nimport Contact from \"./components/contact/Contact\";\nimport AboutUs from \"./components/about_us/AboutUs\";\nimport Login from \"./components/login_and_registration/login/Login\";\nimport Registration from \"./components/login_and_registration/registration/Registration\";\nimport Basket from \"./components/shop/basket/Basket\";\nimport $ from \"jquery\";\n\nclass App extends Component\n{\n    state =\n        {\n            login: \"\",\n            basket: [],\n            basketSum: \"000\",\n\n            basketStep: 1,\n            basketAmount: 0,\n            totalSum: \"\",\n\n            currentDelivery: \"\",\n\n            delivery: {\n                letter: \"800\",\n                inPost: \"1000\",\n                courier: \"2000\",\n            },\n\n            deliveryDetails:{\n                name: \"\",\n                surname: \"\",\n                email: \"\",\n                address: \"\",\n                zipCode: \"\",\n                city: \"\",\n                phone: \"\",\n            },\n\n            deliveryDetailsVal: false\n\n        };\n\n    changeDeliveryDetails = (name, surname, email, address, zipCode, city, phone) =>\n    {\n        this.setState({\n            deliveryDetails:\n                {\n                    name: name,\n                    surname: surname,\n                    email: email,\n                    address: address,\n                    zipCode: zipCode,\n                    city: city,\n                    phone: phone,\n                },\n            deliveryDetailsVal: true\n        });\n    };\n\n\n    setBasketStep = (currentStep) =>\n    {\n        this.setState({\n            basketStep: currentStep\n        });\n    };\n\n    setLogin = (user) =>\n    {\n        this.setState({\n            login: user\n        })\n    };\n\n    setClearLogin = () =>\n    {\n        this.setState({\n            login: \"\",\n        })\n    };\n\n    basketAdd = (productAdded) =>\n    {\n        let productExistIndex;\n        let newBasket;\n\n        for (let i = 0; i < this.state.basket.length; i++)\n        {\n            if(this.state.basket[i].product === productAdded)\n            {\n                productExistIndex = i;\n            }\n        }\n        if(!productExistIndex && productExistIndex !== 0)\n        {\n            let newAmount = 1;\n            let newProduct = productAdded;\n            newBasket = [...this.state.basket];\n            newBasket.push({\n                product: newProduct,\n                amount: newAmount,\n                total: (+newAmount * +newProduct.price).toString()\n            });\n        }\n        else\n        {\n            newBasket = [...this.state.basket];\n            newBasket[productExistIndex].amount++;\n            newBasket[productExistIndex].total = (+(+newBasket[productExistIndex].amount) * +newBasket[productExistIndex].product.price).toString();\n        }\n\n        // this.setState({\n        //     basket: newBasket\n        // });\n\n        this.basketSummary(newBasket);\n\n    };\n\n    basketSummary = (newBasket) =>\n    {\n        let summary = 0;\n        let amount = 0;\n\n        for (let i = 0; i < newBasket.length ; i++)\n        {\n            summary = (+summary + +newBasket[i].total).toString();\n            amount = amount + +newBasket[i].amount\n        }\n\n        this.setState({\n            basket: newBasket,\n            basketSum: summary,\n            basketAmount: amount\n        });\n    };\n\n    handleDeliveryChange = (delivery) =>\n    {\n        const {basketSum} = this.state;\n\n        this.handleChangeCurrentDelivery(delivery);\n        this.handleChangeTotalSum(basketSum, delivery);\n\n    };\n\n    handleChangeCurrentDelivery = (currentDelivery) =>\n    {\n        this.setState({\n            currentDelivery: currentDelivery\n        });\n    };\n\n    handleChangeTotalSum = (products, delivery) =>\n    {\n        let total = (+products + +delivery).toString();\n\n        this.setState({\n            totalSum: total\n        });\n    };\n\n    priceDisplay = (price) =>\n    {\n        return price.substr(0, price.length-2) + \",\" +\n            price.substr(price.length-2, 2)  + \"zÅ‚\"\n    };\n\n    basketDelete = (e, target) =>\n    {\n        let productExistIndex;\n        let newBasket;\n        let toDelete;\n        //\n        // $(function () {\n        //     toDelete = target.parent().parent()\n        //     .querySelector(\".basket-product-name\").querySelector(\"span\").value;\n        //     console.log(toDelete);\n        //     return toDelete;\n        //\n        // });\n            toDelete = target.parent().parent()\n            .getElementsByClassName(\".basket-product-name\").getElementsByTagName(\"span\").value;\n            console.log(toDelete);\n\n        for (let i = 0; i < this.state.basket.length; i++)\n        {\n            if(this.state.basket[i].product.id === toDelete)\n            {\n                productExistIndex = i;\n            }\n        }\n        console.log(productExistIndex);\n\n        newBasket = [...this.state.basket];\n        delete newBasket[productExistIndex];\n        console.log(newBasket);\n\n        let newBasket2;\n\n        for (let i = 0; i < newBasket.length; i++)\n        {\n            if(!(typeof newBasket[i] === \"undefined\"))\n            {\n                console.log(!(typeof newBasket[i] === \"undefined\"));\n                console.log(typeof newBasket[i]);\n                console.log(newBasket[i]);\n                newBasket2.push(newBasket[i]);\n            }\n        }\n\n        //this.basketSummary(newBasket2);\n\n    };\n\n    render() {\n        const {login, basket, basketSum, basketStep, basketAmount, currentDelivery, totalSum,\n            delivery, deliveryDetailsVal, deliveryDetails} = this.state;\n        return (\n            <HashRouter>\n                <>\n                    <Route exact path='/' render={() => <Home path=\"/\"\n                                                              login={login}\n                                                              setClearLogin={this.setClearLogin}/>}/>\n                    <Route exact path='/shop' render={() => <Shop path=\"/shop\"\n                                                                  login={login}\n                                                                  setClearLogin={this.setClearLogin}\n                                                                  basketAdd={this.basketAdd}\n                                                                  basketSum={basketSum}\n                                                                  setBasketStep={this.setBasketStep}\n                                                                  basketAmount={basketAmount}/>}/>\n                    <Route exact path='/contact' render={() => <Contact path=\"/contact\"\n                                                                        login={login}\n                                                                        setClearLogin={this.setClearLogin}/>}/>\n                    <Route exact path='/about_us' render={() => <AboutUs path=\"/about_us\"\n                                                                         login={login}\n                                                                         setClearLogin={this.setClearLogin}/>}/>\n                    <Route exact path='/login' render={() => <Login path=\"/login\"\n                                                                    setLogin={this.setLogin}/>}/>\n                    <Route exact path='/registration' render={() => <Registration path=\"/registration\"/>}/>\n                    <Route exact path='/basket' render={() => <Basket path=\"/basket\"\n                                                                      login={login}\n                                                                      setClearLogin={this.setClearLogin}\n                                                                      basket={basket}\n                                                                      basketSum={basketSum}\n                                                                      basketPath=\"/basket\"\n                                                                      setBasketStep={this.setBasketStep}\n                                                                      basketStep={basketStep}\n                                                                      basketAmount={basketAmount}\n                                                                      handleChangeCurrentDelivery={this.handleChangeCurrentDelivery}\n                                                                      currentDelivery={currentDelivery}\n                                                                      handleChangeTotalSum={this.handleChangeTotalSum}\n                                                                      totalSum={totalSum}\n                                                                      handleDeliveryChange={this.handleDeliveryChange}\n                                                                      delivery={delivery}\n                                                                      changeDeliveryDetails={this.changeDeliveryDetails}\n                                                                      deliveryDetailsVal={deliveryDetailsVal}\n                                                                      deliveryDetails={deliveryDetails}\n                                                                      priceDisplay={this.priceDisplay}\n                                                                      basketDelete={this.basketDelete}\n                                                            />}/>\n                </>\n            </HashRouter>\n        );\n    }\n\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}