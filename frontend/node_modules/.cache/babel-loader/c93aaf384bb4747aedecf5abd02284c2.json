{"ast":null,"code":"var _jsxFileName = \"/home/marta/Dokumenty/DYPLOM/copper_shop_template/src/components/shop/basket/basket_step_2/BasketStep2.js\";\nimport React, { Component } from 'react';\nimport \"./_basket_step_2.scss\";\nimport $ from \"jquery\";\n\nclass BasketStep2 extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      users: \"\",\n      disabled: true,\n      name: \"\",\n      nameVal: false,\n      surname: \"\",\n      surnameVal: false,\n      email: \"\",\n      emailVal: false,\n      address: \"\",\n      addressVal: false,\n      zipCode: \"\",\n      zipCodeVal: false,\n      city: \"\",\n      cityVal: false,\n      phone: \"\",\n      phoneVal: false,\n      agreementChecked: false,\n      submitHandle: false\n    };\n\n    this.validation = (e, valType, length) => {\n      e.target.value.length >= length ? valType = true : valType = false;\n      return valType;\n    };\n\n    this.handleChangeName = e => {\n      let nameV;\n      let nameVal = this.validation(e, nameV, 2);\n      this.setState({\n        name: e.target.value,\n        nameVal: nameVal\n      });\n      const {\n        surnameVal,\n        addressVal,\n        emailVal,\n        cityVal,\n        phoneVal,\n        zipCodeVal,\n        agreementChecked\n      } = this.state;\n      nameVal && surnameVal && emailVal && addressVal && zipCodeVal && cityVal && phoneVal && agreementChecked || this.props.deliveryDetailsVal ? this.setState({\n        disabled: false\n      }) : this.setState({\n        disabled: true\n      });\n      console.log(\"name\");\n    };\n\n    this.handleChangeSurname = e => {\n      let surnameV;\n      let surnameVal = this.validation(e, surnameV, 2);\n      this.setState({\n        surname: e.target.value,\n        surnameVal: surnameVal\n      });\n      const {\n        nameVal,\n        addressVal,\n        emailVal,\n        cityVal,\n        phoneVal,\n        zipCodeVal,\n        agreementChecked\n      } = this.state;\n      nameVal && surnameVal && emailVal && addressVal && zipCodeVal && cityVal && phoneVal && agreementChecked || this.props.deliveryDetailsVal ? this.setState({\n        disabled: false\n      }) : this.setState({\n        disabled: true\n      });\n      console.log(\"surname\");\n    };\n\n    this.handleChangeAddress = e => {\n      let addressV;\n      let addressVal = this.validation(e, addressV, 4);\n      this.setState({\n        address: e.target.value,\n        addressVal: addressVal\n      });\n      const {\n        nameVal,\n        surnameVal,\n        emailVal,\n        cityVal,\n        phoneVal,\n        zipCodeVal,\n        agreementChecked\n      } = this.state;\n      nameVal && surnameVal && emailVal && addressVal && zipCodeVal && cityVal && phoneVal && agreementChecked || this.props.deliveryDetailsVal ? this.setState({\n        disabled: false\n      }) : this.setState({\n        disabled: true\n      });\n    };\n\n    this.handleChangeCity = e => {\n      let cityV;\n      let cityVal = this.validation(e, cityV, 2);\n      this.setState({\n        city: e.target.value,\n        cityVal: cityVal\n      });\n      const {\n        nameVal,\n        surnameVal,\n        emailVal,\n        addressVal,\n        phoneVal,\n        zipCodeVal,\n        agreementChecked\n      } = this.state;\n      nameVal && surnameVal && emailVal && addressVal && zipCodeVal && cityVal && phoneVal && agreementChecked || this.props.deliveryDetailsVal ? this.setState({\n        disabled: false\n      }) : this.setState({\n        disabled: true\n      });\n    };\n\n    this.handleChangeZipCode = e => {\n      let zipCodeVal = e.target.value.length === 6;\n      this.setState({\n        zipCode: e.target.value,\n        zipCodeVal: zipCodeVal\n      });\n      const {\n        nameVal,\n        surnameVal,\n        emailVal,\n        addressVal,\n        phoneVal,\n        cityVal,\n        agreementChecked\n      } = this.state;\n      nameVal && surnameVal && emailVal && addressVal && zipCodeVal && cityVal && phoneVal && agreementChecked || this.props.deliveryDetailsVal ? this.setState({\n        disabled: false\n      }) : this.setState({\n        disabled: true\n      });\n    };\n\n    this.handleChangePhone = e => {\n      let phoneV;\n      let phoneVal = this.validation(e, phoneV, 9);\n      this.setState({\n        phone: e.target.value,\n        phoneVal: phoneVal\n      });\n      const {\n        nameVal,\n        surnameVal,\n        emailVal,\n        addressVal,\n        zipCodeVal,\n        cityVal,\n        agreementChecked\n      } = this.state;\n      nameVal && surnameVal && emailVal && addressVal && zipCodeVal && cityVal && phoneVal && agreementChecked || this.props.deliveryDetailsVal ? this.setState({\n        disabled: false\n      }) : this.setState({\n        disabled: true\n      });\n    };\n\n    this.emailValidate = email => {\n      const emailValidationCharSet = /^(([^<>()[\\]\\\\.,;:\\s@]+(\\.[^<>()[\\]\\\\.,;:\\s@]+)*)|(.+))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n      return emailValidationCharSet.test(email);\n    };\n\n    this.handleChangeEmail = e => {\n      this.setState({\n        email: e.target.value\n      });\n      this.emailValidate(e.target.value) ? this.setState({\n        emailVal: true\n      }) : this.setState({\n        emailVal: false\n      });\n      const {\n        nameVal,\n        surnameVal,\n        addressVal,\n        zipCodeVal,\n        cityVal,\n        phoneVal,\n        agreementChecked\n      } = this.state;\n      nameVal && surnameVal && this.emailValidate(e.target.value) && addressVal && zipCodeVal && cityVal && phoneVal && agreementChecked || this.props.deliveryDetailsVal ? this.setState({\n        disabled: false\n      }) : this.setState({\n        disabled: true\n      });\n    };\n\n    this.handleChangeAgreement = e => {\n      if (e.currentTarget.checked === true) {\n        this.setState({\n          agreementChecked: true\n        });\n      } else {\n        this.setState({\n          agreementChecked: false\n        });\n      }\n\n      const {\n        nameVal,\n        surnameVal,\n        emailVal,\n        addressVal,\n        zipCodeVal,\n        cityVal,\n        phoneVal\n      } = this.state;\n      nameVal && surnameVal && emailVal && addressVal && zipCodeVal && cityVal && phoneVal && e.currentTarget.checked || this.props.deliveryDetailsVal ? this.setState({\n        disabled: false\n      }) : this.setState({\n        disabled: true\n      });\n    };\n\n    this.handleSubmit = e => {\n      e.preventDefault();\n\n      if (!this.state.disabled) {\n        this.setState({\n          disabled: false\n        });\n        const {\n          setBasketStep,\n          basketStep\n        } = this.props;\n        setBasketStep(basketStep + 1);\n        const {\n          name,\n          surname,\n          email,\n          address,\n          zipCode,\n          city,\n          phone\n        } = this.state;\n        this.props.handleChangeDeliveryDetails(name, surname, email, address, zipCode, city, phone);\n      } else {\n        this.setState({\n          disabled: true,\n          submitHandle: true\n        });\n      }\n    };\n  }\n\n  componentDidMount() {\n    const url = \"http://localhost:3012/users\";\n    fetch(url).then(response => {\n      return response.json();\n    }).then(users => {\n      this.setState({\n        users: users\n      });\n      const {\n        deliveryDetails,\n        deliveryDetailsVal,\n        login\n      } = this.props;\n\n      if (deliveryDetailsVal) {\n        this.setState({\n          disabled: false,\n          name: deliveryDetails.name,\n          surname: deliveryDetails.surname,\n          email: deliveryDetails.email,\n          address: deliveryDetails.address,\n          zipCode: deliveryDetails.zipCode,\n          city: deliveryDetails.city,\n          phone: deliveryDetails.phone\n        });\n        $(function () {\n          document.querySelector(\".basket-step-2-form-section-agreements\").querySelector(\"input\").setAttribute(\"checked\", \"true\");\n        });\n      } else if (!deliveryDetailsVal && login) {\n        let loginIndex;\n\n        for (let i = 0; i < users.length; i++) {\n          if (users[i].login === login) {\n            loginIndex = i;\n            break;\n          }\n        }\n\n        this.setState({\n          name: users[loginIndex].name,\n          surname: users[loginIndex].surname,\n          email: users[loginIndex].email,\n          address: users[loginIndex].address,\n          zipCode: users[loginIndex].zipCode,\n          city: users[loginIndex].city,\n          phone: users[loginIndex].phone\n        });\n\n        if (users[loginIndex].name) {\n          this.setState({\n            nameVal: true\n          });\n        }\n\n        if (users[loginIndex].surname) {\n          this.setState({\n            surnameVal: true\n          });\n        }\n\n        if (users[loginIndex].email) {\n          this.setState({\n            emailVal: true\n          });\n        }\n\n        if (users[loginIndex].address) {\n          this.setState({\n            addressVal: true\n          });\n        }\n\n        if (users[loginIndex].zipCode) {\n          this.setState({\n            zipCodeVal: true\n          });\n        }\n\n        if (users[loginIndex].city) {\n          this.setState({\n            cityVal: true\n          });\n        }\n\n        if (users[loginIndex].phone) {\n          this.setState({\n            phoneVal: true\n          });\n        }\n      }\n    }).catch(function (error) {\n      console.log(error);\n    });\n  }\n\n  render() {\n    const {\n      handleGoBack\n    } = this.props;\n    const {\n      disabled,\n      email,\n      name,\n      surname,\n      address,\n      city,\n      zipCode,\n      phone,\n      submitHandle\n    } = this.state;\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"section\", {\n      className: \"basket-step-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 319,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container basket-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 320,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 321,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"section\", {\n      className: \"basket-step-2-form\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 322,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"legend\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 323,\n        columnNumber: 33\n      }\n    }, \"Dane do wysy\\u0142ki\"), /*#__PURE__*/React.createElement(\"section\", {\n      className: \"basket-step-2-form-section\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 324,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 325,\n        columnNumber: 37\n      }\n    }, \"Imi\\u0119:\", /*#__PURE__*/React.createElement(\"span\", {\n      className: \"big-x2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 326,\n        columnNumber: 41\n      }\n    }, \"*\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"Name\",\n      name: \"name\",\n      value: name,\n      onChange: this.handleChangeName,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 327,\n        columnNumber: 41\n      }\n    })), /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 333,\n        columnNumber: 37\n      }\n    }, \"Nazwisko:\", /*#__PURE__*/React.createElement(\"span\", {\n      className: \"big-x2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 334,\n        columnNumber: 41\n      }\n    }, \"*\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"Surname\",\n      name: \"surname\",\n      value: surname,\n      onChange: this.handleChangeSurname,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 335,\n        columnNumber: 41\n      }\n    })), /*#__PURE__*/React.createElement(\"label\", {\n      className: \"obligatory\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 341,\n        columnNumber: 37\n      }\n    }, \"E-mail:\", /*#__PURE__*/React.createElement(\"span\", {\n      className: \"big-x2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 342,\n        columnNumber: 41\n      }\n    }, \"*\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"E-mail\",\n      name: \"email\",\n      value: email,\n      onChange: this.handleChangeEmail,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 343,\n        columnNumber: 41\n      }\n    })), /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 349,\n        columnNumber: 37\n      }\n    }, \"Adres zamieszkania:\", /*#__PURE__*/React.createElement(\"span\", {\n      className: \"big-x2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 350,\n        columnNumber: 41\n      }\n    }, \"*\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"Address\",\n      name: \"address\",\n      value: address,\n      onChange: this.handleChangeAddress,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 351,\n        columnNumber: 41\n      }\n    })), /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 357,\n        columnNumber: 37\n      }\n    }, \"Miasto:\", /*#__PURE__*/React.createElement(\"span\", {\n      className: \"big-x2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 358,\n        columnNumber: 41\n      }\n    }, \"*\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"City\",\n      name: \"city\",\n      value: city,\n      onChange: this.handleChangeCity,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 359,\n        columnNumber: 41\n      }\n    })), /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 365,\n        columnNumber: 37\n      }\n    }, \"Kod pocztowy:\", /*#__PURE__*/React.createElement(\"span\", {\n      className: \"big-x2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 366,\n        columnNumber: 41\n      }\n    }, \"*\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"Zip code\",\n      name: \"zipCode\",\n      pattern: \"([0-9]{2})-([0-9]{3})\",\n      value: zipCode,\n      onChange: this.handleChangeZipCode,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 367,\n        columnNumber: 41\n      }\n    })), /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 374,\n        columnNumber: 37\n      }\n    }, \"Telefon:\", /*#__PURE__*/React.createElement(\"span\", {\n      className: \"big-x2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 375,\n        columnNumber: 41\n      }\n    }, \"*\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"Phone\",\n      name: \"phone\",\n      value: phone,\n      onChange: this.handleChangePhone,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 376,\n        columnNumber: 41\n      }\n    }))), /*#__PURE__*/React.createElement(\"section\", {\n      className: \"basket-step-2-form-section\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 383,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"basket-step-2-form-section-agreements\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 384,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"checkbox\",\n      id: \"agreement\",\n      onChange: this.handleChangeAgreement,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 385,\n        columnNumber: 41\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"agreement\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 388,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 389,\n        columnNumber: 45\n      }\n    }, \"*\"), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 390,\n        columnNumber: 45\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 391,\n        columnNumber: 45\n      }\n    }, \"Akceptuj\\u0119 regulamin sklepu\"))), disabled && submitHandle ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-error\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 397,\n        columnNumber: 41\n      }\n    }, \"Uzupe\\u0142nij wszystkie pola\") : /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-error-invisible\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 400,\n        columnNumber: 41\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"basket-step-2-form-section-info\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 401,\n        columnNumber: 37\n      }\n    }, \"Pola oznaczone\\xA0\", /*#__PURE__*/React.createElement(\"span\", {\n      className: \"big-x1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 403,\n        columnNumber: 41\n      }\n    }, \"*\"), \"\\xA0s\\u0105 obowi\\u0105zkowe\"))), /*#__PURE__*/React.createElement(\"section\", {\n      className: \"basket-step-btns\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 408,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn\",\n      onClick: handleGoBack,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 409,\n        columnNumber: 33\n      }\n    }, \"Wstecz\"), /*#__PURE__*/React.createElement(\"input\", {\n      className: \"btn\",\n      type: \"submit\",\n      value: \"Dalej\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 412,\n        columnNumber: 33\n      }\n    }))))));\n  }\n\n}\n\nexport default BasketStep2;","map":{"version":3,"sources":["/home/marta/Dokumenty/DYPLOM/copper_shop_template/src/components/shop/basket/basket_step_2/BasketStep2.js"],"names":["React","Component","$","BasketStep2","state","users","disabled","name","nameVal","surname","surnameVal","email","emailVal","address","addressVal","zipCode","zipCodeVal","city","cityVal","phone","phoneVal","agreementChecked","submitHandle","validation","e","valType","length","target","value","handleChangeName","nameV","setState","props","deliveryDetailsVal","console","log","handleChangeSurname","surnameV","handleChangeAddress","addressV","handleChangeCity","cityV","handleChangeZipCode","handleChangePhone","phoneV","emailValidate","emailValidationCharSet","test","handleChangeEmail","handleChangeAgreement","currentTarget","checked","handleSubmit","preventDefault","setBasketStep","basketStep","handleChangeDeliveryDetails","componentDidMount","url","fetch","then","response","json","deliveryDetails","login","document","querySelector","setAttribute","loginIndex","i","catch","error","render","handleGoBack"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport \"./_basket_step_2.scss\"\nimport $ from \"jquery\";\n\nclass BasketStep2 extends Component\n{\n    state =\n        {\n            users: \"\",\n\n            disabled: true,\n\n            name: \"\",\n            nameVal: false,\n            surname: \"\",\n            surnameVal: false,\n            email: \"\",\n            emailVal: false,\n\n            address: \"\",\n            addressVal: false,\n            zipCode: \"\",\n            zipCodeVal: false,\n            city: \"\",\n            cityVal: false,\n            phone: \"\",\n            phoneVal: false,\n\n            agreementChecked: false,\n            submitHandle: false,\n        };\n\n    componentDidMount()\n    {\n        const url = \"http://localhost:3012/users\";\n\n        fetch(url)\n        .then(response => {\n            return response.json()\n        })\n        .then(users =>\n        {\n            this.setState({\n                users: users\n            });\n\n            const {deliveryDetails, deliveryDetailsVal, login} = this.props;\n\n            if(deliveryDetailsVal)\n            {\n                this.setState({\n                    disabled: false,\n                    name: deliveryDetails.name,\n                    surname: deliveryDetails.surname,\n                    email: deliveryDetails.email,\n                    address: deliveryDetails.address,\n                    zipCode: deliveryDetails.zipCode,\n                    city: deliveryDetails.city,\n                    phone: deliveryDetails.phone,\n                });\n\n                $(function ()\n                {\n                    document.querySelector(\".basket-step-2-form-section-agreements\").querySelector(\"input\")\n                    .setAttribute(\"checked\", \"true\")\n                });\n            }\n            else if(!deliveryDetailsVal && login)\n            {\n                let loginIndex;\n\n                for (let i = 0; i < users.length; i++) {\n\n                    if(users[i].login === login)\n                    {\n                        loginIndex = i;\n                        break;\n                    }\n                }\n                this.setState({\n                    name: users[loginIndex].name,\n                    surname: users[loginIndex].surname,\n                    email: users[loginIndex].email,\n                    address: users[loginIndex].address,\n                    zipCode: users[loginIndex].zipCode,\n                    city: users[loginIndex].city,\n                    phone: users[loginIndex].phone,\n                });\n\n                if(users[loginIndex].name)\n                {\n                    this.setState({\n                        nameVal: true,\n                    });\n                }\n                if(users[loginIndex].surname)\n                {\n                    this.setState({\n                        surnameVal: true,\n                    });\n                }\n                if(users[loginIndex].email)\n                {\n                    this.setState({\n                        emailVal: true,\n                    });\n                }\n                if(users[loginIndex].address)\n                {\n                    this.setState({\n                        addressVal: true,\n                    });\n                }\n                if(users[loginIndex].zipCode)\n                {\n                    this.setState({\n                        zipCodeVal: true,\n                    });\n                }\n                if(users[loginIndex].city)\n                {\n                    this.setState({\n                        cityVal: true,\n                    });\n                }\n                if(users[loginIndex].phone)\n                {\n                    this.setState({\n                        phoneVal: true,\n                    });\n                }\n            }\n\n        })\n        .catch(function(error) {\n            console.log(error);\n        });\n\n    }\n\n    validation = (e, valType, length) =>\n    {\n        e.target.value.length >= length ? valType=true : valType=false;\n        return valType;\n    };\n\n    handleChangeName = e =>\n    {\n        let nameV;\n        let nameVal = this.validation(e, nameV, 2);\n        this.setState({\n            name: e.target.value,\n            nameVal: nameVal\n        });\n        const {surnameVal, addressVal, emailVal, cityVal, phoneVal, zipCodeVal, agreementChecked} = this.state;\n        (nameVal && surnameVal && emailVal && addressVal && zipCodeVal && cityVal && phoneVal && agreementChecked)\n        || this.props.deliveryDetailsVal ?\n            this.setState({disabled: false}):\n            this.setState({disabled: true});\n\n        console.log(\"name\");\n    };\n\n    handleChangeSurname = e =>\n    {\n        let surnameV;\n        let surnameVal = this.validation(e, surnameV, 2);\n        this.setState({\n            surname: e.target.value,\n            surnameVal: surnameVal\n        });\n        const {nameVal, addressVal, emailVal, cityVal, phoneVal, zipCodeVal, agreementChecked} = this.state;\n        (nameVal && surnameVal && emailVal && addressVal && zipCodeVal && cityVal && phoneVal && agreementChecked)\n        || this.props.deliveryDetailsVal ?\n            this.setState({disabled: false}):\n            this.setState({disabled: true});\n        console.log(\"surname\");\n    };\n\n    handleChangeAddress = e =>\n    {\n        let addressV;\n        let addressVal = this.validation(e, addressV, 4);\n        this.setState({\n            address: e.target.value,\n            addressVal: addressVal\n        });\n        const {nameVal, surnameVal, emailVal, cityVal, phoneVal, zipCodeVal, agreementChecked} = this.state;\n        (nameVal && surnameVal && emailVal && addressVal && zipCodeVal && cityVal && phoneVal && agreementChecked)\n        || this.props.deliveryDetailsVal ?\n            this.setState({disabled: false}):\n            this.setState({disabled: true});\n    };\n\n    handleChangeCity = e =>\n    {\n        let cityV;\n        let cityVal = this.validation(e, cityV, 2);\n        this.setState({\n            city: e.target.value,\n            cityVal: cityVal\n        });\n        const {nameVal, surnameVal, emailVal, addressVal, phoneVal, zipCodeVal, agreementChecked} = this.state;\n        (nameVal && surnameVal && emailVal && addressVal && zipCodeVal && cityVal && phoneVal && agreementChecked)\n        || this.props.deliveryDetailsVal ?\n            this.setState({disabled: false}):\n            this.setState({disabled: true});\n    };\n\n    handleChangeZipCode = e =>\n    {\n        let zipCodeVal = e.target.value.length === 6;\n        this.setState({\n            zipCode: e.target.value,\n            zipCodeVal: zipCodeVal\n        });\n        const {nameVal, surnameVal, emailVal, addressVal, phoneVal, cityVal, agreementChecked} = this.state;\n        (nameVal && surnameVal && emailVal && addressVal && zipCodeVal && cityVal && phoneVal && agreementChecked)\n        || this.props.deliveryDetailsVal ?\n            this.setState({disabled: false}):\n            this.setState({disabled: true});\n    };\n\n    handleChangePhone = e =>\n    {\n        let phoneV;\n        let phoneVal = this.validation(e, phoneV, 9);\n        this.setState({\n            phone: e.target.value,\n            phoneVal: phoneVal\n        });\n        const {nameVal, surnameVal, emailVal, addressVal, zipCodeVal, cityVal, agreementChecked} = this.state;\n        (nameVal && surnameVal && emailVal && addressVal && zipCodeVal && cityVal && phoneVal && agreementChecked)\n        || this.props.deliveryDetailsVal ?\n            this.setState({disabled: false}):\n            this.setState({disabled: true});\n    };\n\n    emailValidate = (email) =>\n    {\n        const emailValidationCharSet = /^(([^<>()[\\]\\\\.,;:\\s@]+(\\.[^<>()[\\]\\\\.,;:\\s@]+)*)|(.+))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n        return emailValidationCharSet.test(email);\n    };\n\n    handleChangeEmail = e =>\n    {\n        this.setState({\n            email: e.target.value\n        });\n\n        this.emailValidate(e.target.value) ?\n            this.setState({\n                emailVal: true,\n            }) :\n            this.setState({\n                emailVal: false,\n            });\n\n        const {nameVal, surnameVal, addressVal, zipCodeVal, cityVal, phoneVal, agreementChecked} = this.state;\n        (nameVal && surnameVal && this.emailValidate(e.target.value) && addressVal && zipCodeVal && cityVal && phoneVal && agreementChecked)\n        || this.props.deliveryDetailsVal ?\n            this.setState({disabled: false}):\n            this.setState({disabled: true});\n    };\n\n    handleChangeAgreement = (e) =>\n    {\n        if(e.currentTarget.checked === true)\n        {\n            this.setState({\n                agreementChecked: true\n            });\n        }\n        else\n        {\n            this.setState({\n                agreementChecked: false\n            });\n        }\n\n        const {nameVal, surnameVal, emailVal, addressVal, zipCodeVal, cityVal, phoneVal} = this.state;\n        (nameVal && surnameVal && emailVal && addressVal && zipCodeVal && cityVal && phoneVal && e.currentTarget.checked)\n            || this.props.deliveryDetailsVal ?\n            this.setState({disabled: false}):\n            this.setState({disabled: true});\n    };\n\n    handleSubmit = (e) =>\n    {\n        e.preventDefault();\n\n        if(!this.state.disabled)\n        {\n            this.setState({\n                disabled: false\n\n            });\n            const {setBasketStep, basketStep} = this.props;\n            setBasketStep(basketStep + 1);\n\n            const {name, surname, email, address, zipCode, city, phone} = this.state;\n            this.props.handleChangeDeliveryDetails(name, surname, email, address, zipCode, city, phone);\n        }\n        else\n        {\n            this.setState({\n                disabled: true,\n                submitHandle: true,\n            });\n        }\n\n    };\n\n    render() {\n        const {handleGoBack} = this.props;\n        const {disabled, email, name, surname, address, city, zipCode, phone, submitHandle} = this.state;\n        return (\n            <>\n                <section className=\"basket-step-2\">\n                    <div className=\"container basket-container\">\n                        <form onSubmit={this.handleSubmit}>\n                            <section className=\"basket-step-2-form\">\n                                <legend>Dane do wysyłki</legend>\n                                <section className=\"basket-step-2-form-section\">\n                                    <label>Imię:\n                                        <span className=\"big-x2\">*</span>\n                                        <input type=\"text\"\n                                               placeholder=\"Name\"\n                                               name=\"name\"\n                                               value={name}\n                                               onChange={this.handleChangeName}/>\n                                    </label>\n                                    <label>Nazwisko:\n                                        <span className=\"big-x2\">*</span>\n                                        <input type=\"text\"\n                                               placeholder=\"Surname\"\n                                               name=\"surname\"\n                                               value={surname}\n                                               onChange={this.handleChangeSurname}/>\n                                    </label>\n                                    <label className=\"obligatory\">E-mail:\n                                        <span className=\"big-x2\">*</span>\n                                        <input type=\"text\"\n                                               placeholder=\"E-mail\"\n                                               name=\"email\"\n                                               value={email}\n                                               onChange={this.handleChangeEmail}/>\n                                    </label>\n                                    <label>Adres zamieszkania:\n                                        <span className=\"big-x2\">*</span>\n                                        <input type=\"text\"\n                                               placeholder=\"Address\"\n                                               name=\"address\"\n                                               value={address}\n                                               onChange={this.handleChangeAddress}/>\n                                    </label>\n                                    <label>Miasto:\n                                        <span className=\"big-x2\">*</span>\n                                        <input type=\"text\"\n                                               placeholder=\"City\"\n                                               name=\"city\"\n                                               value={city}\n                                               onChange={this.handleChangeCity}/>\n                                    </label>\n                                    <label>Kod pocztowy:\n                                        <span className=\"big-x2\">*</span>\n                                        <input type=\"text\"\n                                               placeholder=\"Zip code\"\n                                               name=\"zipCode\"\n                                               pattern=\"([0-9]{2})-([0-9]{3})\"\n                                               value={zipCode}\n                                               onChange={this.handleChangeZipCode}/>\n                                    </label>\n                                    <label>Telefon:\n                                        <span className=\"big-x2\">*</span>\n                                        <input type=\"text\"\n                                               placeholder=\"Phone\"\n                                               name=\"phone\"\n                                               value={phone}\n                                               onChange={this.handleChangePhone}/>\n                                    </label>\n                                </section>\n                                <section className=\"basket-step-2-form-section\">\n                                    <div className=\"basket-step-2-form-section-agreements\">\n                                        <input type=\"checkbox\"\n                                               id=\"agreement\"\n                                               onChange={this.handleChangeAgreement}/>\n                                        <label htmlFor=\"agreement\">\n                                            <p>*</p>\n                                            <span/>\n                                            <p>\n                                                Akceptuję regulamin sklepu\n                                            </p>\n                                        </label>\n                                    </div>\n                                    {(disabled && submitHandle) ?\n                                        <div className=\"form-error\">\n                                            Uzupełnij wszystkie pola\n                                        </div>:\n                                        <div className=\"form-error-invisible\"/>}\n                                    <p className=\"basket-step-2-form-section-info\">\n                                        Pola oznaczone&nbsp;\n                                        <span className=\"big-x1\">*</span>\n                                        &nbsp;są obowiązkowe\n                                    </p>\n                                </section>\n                            </section>\n                            <section className=\"basket-step-btns\">\n                                <button className=\"btn\" onClick={handleGoBack}>\n                                    Wstecz\n                                </button>\n                                <input className=\"btn\" type=\"submit\" value=\"Dalej\"/>\n                            </section>\n                        </form>\n                    </div>\n                </section>\n            </>\n        )\n    }\n}\n\nexport default BasketStep2;"]},"metadata":{},"sourceType":"module"}