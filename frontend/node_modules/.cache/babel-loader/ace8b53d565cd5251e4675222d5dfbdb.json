{"ast":null,"code":"var _jsxFileName = \"/home/marta/Dokumenty/DYPLOM/copper_shop_template/src/components/shop/product_info/ProductInfo.js\";\nimport React, { Component } from 'react';\nimport \"./_product_info.scss\";\n\nclass ProductInfo extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      products: []\n    };\n\n    this.handleAddElement = targetId => {\n      const {\n        products\n      } = this.state;\n      let available = true;\n      let index;\n\n      function productsLoop() {\n        for (let j = 0; j < products.length; j++) {\n          if (+products[j].id === +targetId) {\n            index = j;\n            break;\n          }\n        }\n      }\n\n      if (basket.length === 0) {\n        productsLoop();\n      } else {\n        for (let i = 0; i < basket.length; i++) {\n          if (+basket[i].product.id === +targetId && +basket[i].amount === +targetQuantity) {\n            available = false;\n            alert(\"Dodałeś już maksymalną ilość tego produktu do swojego koszyka\");\n          }\n\n          productsLoop();\n        }\n      }\n\n      if (available && (index || index === 0)) {\n        this.props.basketAdd(products[index]);\n      }\n    };\n  }\n\n  componentDidMount() {\n    const url = \"http://localhost:3000/products\";\n    fetch(url).then(response => {\n      return response.json();\n    }).then(products => {\n      this.setState({\n        products: products\n      });\n    }).catch(function (error) {\n      console.log(error);\n    });\n  }\n\n  render() {\n    const {\n      currentProduct\n    } = this.props;\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"section\", {\n      className: \"product-info\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"product-info-content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"section\", {\n      className: \"product-info-content-left\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"figure\", {\n      className: \"product-img\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: \"./assets/products/\" + currentProduct.id + \".jpeg\",\n      alt: \"product_\" + currentProduct.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 37\n      }\n    }))), /*#__PURE__*/React.createElement(\"section\", {\n      className: \"product-info-content-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"header\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"product-name-id\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 37\n      }\n    }, \"product\\xA0\", /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 81\n      }\n    }, currentProduct.id)), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"product-name-code\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 37\n      }\n    }, currentProduct.code)), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 33\n      }\n    }, currentProduct.description), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"product-info-add\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fas fa-2x fa-plus-square product-info-add-btn\",\n      onClick: this.handleAddElement(currentProduct.id),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 37\n      }\n    })))))));\n  }\n\n}\n\nexport default ProductInfo;","map":{"version":3,"sources":["/home/marta/Dokumenty/DYPLOM/copper_shop_template/src/components/shop/product_info/ProductInfo.js"],"names":["React","Component","ProductInfo","state","products","handleAddElement","targetId","available","index","productsLoop","j","length","id","basket","i","product","amount","targetQuantity","alert","props","basketAdd","componentDidMount","url","fetch","then","response","json","setState","catch","error","console","log","render","currentProduct","code","description"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport \"./_product_info.scss\"\n\nclass ProductInfo extends Component\n{\n\n    state =\n        {\n            products: []\n        }\n\n    componentDidMount() {\n\n        const url = \"http://localhost:3000/products\";\n\n        fetch(url)\n        .then(response => {\n            return response.json()\n        })\n        .then(products =>\n        {\n            this.setState({\n                products: products\n            });\n        })\n        .catch(function(error) {\n            console.log(error);\n        });\n    };\n\n    handleAddElement = (targetId) =>\n    {\n        const {products} = this.state\n\n        let available = true\n        let index;\n\n        function productsLoop() {\n            for (let j = 0; j < products.length; j++)\n            {\n                if(+products[j].id === +targetId)\n                {\n                    index = j\n                    break;\n                }\n            }\n        }\n\n        if(basket.length === 0)\n        {\n            productsLoop();\n        }\n        else\n        {\n            for (let i = 0; i < basket.length; i++)\n            {\n                if(+basket[i].product.id === +targetId && +basket[i].amount === +targetQuantity )\n                {\n                    available = false\n                    alert(\"Dodałeś już maksymalną ilość tego produktu do swojego koszyka\");\n                }\n                productsLoop();\n            }\n        }\n\n        if(available && (index || index === 0))\n        {\n            this.props.basketAdd(products[index]);\n        }\n    }\n\n    render() {\n\n        const {currentProduct} = this.props\n        return (\n            <>\n                <section className=\"product-info\">\n                    <div className=\"container\">\n                        <div className=\"product-info-content\">\n                            <section className=\"product-info-content-left\">\n                                <figure className=\"product-img\">\n                                    <img src={\"./assets/products/\" + currentProduct.id + \".jpeg\"}\n                                         alt={\"product_\" + currentProduct.id}/>\n                                </figure>\n                            </section>\n                            <section className=\"product-info-content-right\">\n                                <header>\n                                    <p className=\"product-name-id\">product&nbsp;<span>{currentProduct.id}</span></p>\n                                    <p className=\"product-name-code\">{currentProduct.code}</p>\n                                </header>\n                                <p>{currentProduct.description}</p>\n                                <div className=\"product-info-add\">\n                                    <i className=\"fas fa-2x fa-plus-square product-info-add-btn\"\n                                       onClick={this.handleAddElement(currentProduct.id)}/>\n                                </div>\n                            </section>\n                        </div>\n                    </div>\n                </section>\n            </>\n        )\n    }\n}\n\nexport default ProductInfo;"]},"metadata":{},"sourceType":"module"}