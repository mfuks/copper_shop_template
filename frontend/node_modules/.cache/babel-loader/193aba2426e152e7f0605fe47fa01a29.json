{"ast":null,"code":"var _jsxFileName = \"/home/marta/Dokumenty/DYPLOM/copper_shop_template/src/components/shop/product/Product.js\";\nimport React, { Component } from 'react';\nimport \"./_product.scss\";\n\nclass Products extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      products: [],\n      currentPage: 1,\n      infoPerPage: 6,\n      basketList: [],\n      pageNumbers: [],\n      numberOfPages: Math.ceil(products.length / infoPerPage)\n    };\n\n    this.handleClick = (e, i) => {\n      this.setState({\n        currentPage: i\n      });\n    };\n\n    this.basketAdd = productAdded => {\n      let newBasketList = [...this.state.basketList];\n      newBasketList.push(productAdded);\n      this.setState({\n        basketList: newBasketList\n      });\n      console.log(newBasketList);\n    };\n  }\n\n  componentDidMount() {\n    const url = \"http://localhost:3000/products\";\n    fetch(url).then(response => {\n      return response.json();\n    }).then(products => {\n      this.setState({\n        products: products\n      });\n      const {\n        currentPage,\n        infoPerPage,\n        pageNumbers\n      } = this.state;\n      const numberOfPages = Math.ceil(this.state.products.length / this.state.infoPerPage);\n\n      for (let i = 1; i <= numberOfPages; i++) {\n        const pageNumberElement = /*#__PURE__*/React.createElement(\"li\", {\n          key: \"product-content-page\" + i,\n          onClick: e => this.handleClick(e, i),\n          className: currentPage === i ? \"active\" : \"\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 38,\n            columnNumber: 25\n          }\n        }, i);\n        pageNumbers.push(pageNumberElement);\n      }\n    }).catch(function (error) {\n      console.log(error);\n    });\n  }\n\n  render() {\n    const {\n      products,\n      currentPage,\n      infoPerPage,\n      pageNumbers,\n      numberOfPages\n    } = this.state;\n    const indexOfLast = currentPage * infoPerPage;\n    const indexOfFirst = indexOfLast - infoPerPage;\n    const currentProducts = products.slice(indexOfFirst, indexOfLast);\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"section\", {\n      className: \"products\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"products-content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"ul\", {\n      className: \"products-content-products\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 29\n      }\n    }, currentProducts.map(element => /*#__PURE__*/React.createElement(\"li\", {\n      key: element.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"product\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"figure\", {\n      className: \"product-img\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: \"./assets/products/\" + element.id + \".jpeg\",\n      alt: \"product_\" + element.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 49\n      }\n    }), /*#__PURE__*/React.createElement(\"figcaption\", {\n      className: \"product-name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 49\n      }\n    }, \"product \", element.id)), /*#__PURE__*/React.createElement(\"section\", {\n      className: \"product-info\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"product-info-price\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fas fa-2x fa-tag label\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 53\n      }\n    }), /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 53\n      }\n    }, element.price / 100, \" z\\u0142\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"product-info-add\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fas fa-2x fa-plus-square\",\n      onClick: this.basketAdd(element),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 53\n      }\n    })))))), currentProducts.length % 3 !== 0 && currentProducts.length % 3 === 2 ? /*#__PURE__*/React.createElement(\"li\", {\n      className: \"invisible-product\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 33\n      }\n    }) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"li\", {\n      className: \"invisible-product\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 37\n      }\n    }), /*#__PURE__*/React.createElement(\"li\", {\n      className: \"invisible-product\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 37\n      }\n    }))), /*#__PURE__*/React.createElement(\"ul\", {\n      className: \"products-content-pages\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 29\n      }\n    }, numberOfPages !== 1 && /*#__PURE__*/React.createElement(React.Fragment, null, pageNumbers))))));\n  }\n\n}\n\nexport default Products;","map":{"version":3,"sources":["/home/marta/Dokumenty/DYPLOM/copper_shop_template/src/components/shop/product/Product.js"],"names":["React","Component","Products","state","products","currentPage","infoPerPage","basketList","pageNumbers","numberOfPages","Math","ceil","length","handleClick","e","i","setState","basketAdd","productAdded","newBasketList","push","console","log","componentDidMount","url","fetch","then","response","json","pageNumberElement","catch","error","render","indexOfLast","indexOfFirst","currentProducts","slice","map","element","id","price"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,OAAO,iBAAP;;AAEA,MAAMC,QAAN,SAAuBD,SAAvB,CACA;AAAA;AAAA;AAAA,SACIE,KADJ,GACY;AACJC,MAAAA,QAAQ,EAAE,EADN;AAEJC,MAAAA,WAAW,EAAE,CAFT;AAGJC,MAAAA,WAAW,EAAE,CAHT;AAKJC,MAAAA,UAAU,EAAE,EALR;AAMJC,MAAAA,WAAW,EAAE,EANT;AAQJC,MAAAA,aAAa,EAAEC,IAAI,CAACC,IAAL,CAAUP,QAAQ,CAACQ,MAAT,GAAgBN,WAA1B;AARX,KADZ;;AAAA,SAqDIO,WArDJ,GAqDkB,CAACC,CAAD,EAAIC,CAAJ,KACd;AACI,WAAKC,QAAL,CAAc;AACVX,QAAAA,WAAW,EAAEU;AADH,OAAd;AAGH,KA1DL;;AAAA,SA4DIE,SA5DJ,GA4DiBC,YAAD,IACZ;AACI,UAAIC,aAAa,GAAG,CAAC,GAAG,KAAKhB,KAAL,CAAWI,UAAf,CAApB;AACAY,MAAAA,aAAa,CAACC,IAAd,CAAmBF,YAAnB;AAEA,WAAKF,QAAL,CAAc;AACVT,QAAAA,UAAU,EAAEY;AADF,OAAd;AAIAE,MAAAA,OAAO,CAACC,GAAR,CAAYH,aAAZ;AACH,KAtEL;AAAA;;AAYII,EAAAA,iBAAiB,GAAG;AAEf,UAAMC,GAAG,GAAG,gCAAZ;AAEGC,IAAAA,KAAK,CAACD,GAAD,CAAL,CACCE,IADD,CACMC,QAAQ,IAAI;AACd,aAAOA,QAAQ,CAACC,IAAT,EAAP;AACH,KAHD,EAICF,IAJD,CAIMtB,QAAQ,IACd;AACI,WAAKY,QAAL,CAAc;AACVZ,QAAAA,QAAQ,EAAEA;AADA,OAAd;AAIA,YAAM;AAACC,QAAAA,WAAD;AAAcC,QAAAA,WAAd;AAA2BE,QAAAA;AAA3B,UAA0C,KAAKL,KAArD;AAEA,YAAMM,aAAa,GAAGC,IAAI,CAACC,IAAL,CAAU,KAAKR,KAAL,CAAWC,QAAX,CAAoBQ,MAApB,GAA2B,KAAKT,KAAL,CAAWG,WAAhD,CAAtB;;AAEA,WAAK,IAAIS,CAAC,GAAG,CAAb,EAAgBA,CAAC,IAAIN,aAArB,EAAqCM,CAAC,EAAtC,EACA;AACI,cAAMc,iBAAiB,gBACnB;AAAI,UAAA,GAAG,EAAE,yBAAyBd,CAAlC;AACI,UAAA,OAAO,EAAED,CAAC,IAAI,KAAKD,WAAL,CAAiBC,CAAjB,EAAoBC,CAApB,CADlB;AAEI,UAAA,SAAS,EAAGV,WAAW,KAAKU,CAAjB,GAAsB,QAAtB,GAAiC,EAFhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAGKA,CAHL,CADJ;AAMAP,QAAAA,WAAW,CAACY,IAAZ,CAAiBS,iBAAjB;AACH;AAEJ,KAzBD,EA0BCC,KA1BD,CA0BO,UAASC,KAAT,EAAgB;AACnBV,MAAAA,OAAO,CAACC,GAAR,CAAYS,KAAZ;AACH,KA5BD;AAkCP;;AAyBDC,EAAAA,MAAM,GAAG;AACL,UAAM;AAAC5B,MAAAA,QAAD;AAAWC,MAAAA,WAAX;AAAwBC,MAAAA,WAAxB;AAAqCE,MAAAA,WAArC;AAAkDC,MAAAA;AAAlD,QAAmE,KAAKN,KAA9E;AACA,UAAM8B,WAAW,GAAG5B,WAAW,GAAGC,WAAlC;AACA,UAAM4B,YAAY,GAAGD,WAAW,GAAG3B,WAAnC;AACA,UAAM6B,eAAe,GAAG/B,QAAQ,CAACgC,KAAT,CAAeF,YAAf,EAA6BD,WAA7B,CAAxB;AACA,wBACI,uDACI;AAAS,MAAA,SAAS,EAAC,UAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAK,MAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAI,MAAA,SAAS,EAAC,2BAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACKE,eAAe,CAACE,GAAhB,CAAoBC,OAAO,iBACxB;AAAI,MAAA,GAAG,EAAEA,OAAO,CAACC,EAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAK,MAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAQ,MAAA,SAAS,EAAC,aAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAK,MAAA,GAAG,EAAE,uBAAuBD,OAAO,CAACC,EAA/B,GAAoC,OAA9C;AACK,MAAA,GAAG,EAAE,aAAaD,OAAO,CAACC,EAD/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,eAGI;AAAY,MAAA,SAAS,EAAC,cAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACaD,OAAO,CAACC,EADrB,CAHJ,CADJ,eAQI;AAAS,MAAA,SAAS,EAAC,cAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAK,MAAA,SAAS,EAAC,oBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAG,MAAA,SAAS,EAAC,wBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,eAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAKD,OAAO,CAACE,KAAR,GAAgB,GAArB,aAFJ,CADJ,eAKI;AAAK,MAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAG,MAAA,SAAS,EAAC,0BAAb;AACG,MAAA,OAAO,EAAE,KAAKvB,SAAL,CAAeqB,OAAf,CADZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CALJ,CARJ,CADJ,CADH,CADL,EAwBMH,eAAe,CAACvB,MAAhB,GAAyB,CAAzB,KAA+B,CAAhC,IACAuB,eAAe,CAACvB,MAAhB,GAAyB,CAAzB,KAA+B,CAD/B,gBAED;AAAI,MAAA,SAAS,EAAC,mBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFC,gBAGD,uDACI;AAAI,MAAA,SAAS,EAAC,mBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,eAEI;AAAI,MAAA,SAAS,EAAC,mBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,CA3BJ,CADJ,eAiCI;AAAI,MAAA,SAAS,EAAC,wBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACCH,aAAa,KAAK,CAAlB,iBACG,0CACKD,WADL,CAFJ,CAjCJ,CADJ,CADJ,CADJ,CADJ;AAgDH;;AAhIL;;AAmIA,eAAeN,QAAf","sourcesContent":["import React, {Component} from 'react';\nimport \"./_product.scss\"\n\nclass Products extends Component\n{\n    state = {\n        products: [],\n        currentPage: 1,\n        infoPerPage: 6,\n\n        basketList: [],\n        pageNumbers: [],\n\n        numberOfPages: Math.ceil(products.length/infoPerPage)\n    };\n\n    componentDidMount() {\n\n         const url = \"http://localhost:3000/products\";\n\n            fetch(url)\n            .then(response => {\n                return response.json()\n            })\n            .then(products =>\n            {\n                this.setState({\n                    products: products\n                });\n\n                const {currentPage, infoPerPage, pageNumbers} = this.state;\n\n                const numberOfPages = Math.ceil(this.state.products.length/this.state.infoPerPage);\n\n                for (let i = 1; i <= numberOfPages ; i++)\n                {\n                    const pageNumberElement =\n                        <li key={\"product-content-page\" + i}\n                            onClick={e => this.handleClick(e, i)}\n                            className={(currentPage === i) ? \"active\" : \"\"}>\n                            {i}\n                        </li>;\n                    pageNumbers.push(pageNumberElement);\n                }\n\n            })\n            .catch(function(error) {\n                console.log(error);\n            });\n\n\n\n\n\n    };\n\n\n    handleClick = (e, i) =>\n    {\n        this.setState({\n            currentPage: i\n        })\n    };\n\n    basketAdd = (productAdded) =>\n    {\n        let newBasketList = [...this.state.basketList];\n        newBasketList.push(productAdded);\n\n        this.setState({\n            basketList: newBasketList\n        });\n\n        console.log(newBasketList);\n    };\n\n\n\n\n    render() {\n        const {products, currentPage, infoPerPage, pageNumbers, numberOfPages} = this.state;\n        const indexOfLast = currentPage * infoPerPage;\n        const indexOfFirst = indexOfLast - infoPerPage;\n        const currentProducts = products.slice(indexOfFirst, indexOfLast);\n        return (\n            <>\n                <section className=\"products\">\n                    <div className=\"container\">\n                        <div className=\"products-content\">\n                            <ul className=\"products-content-products\">\n                                {currentProducts.map(element =>\n                                    <li key={element.id}>\n                                        <div className=\"product\">\n                                            <figure className=\"product-img\">\n                                                <img src={\"./assets/products/\" + element.id + \".jpeg\"}\n                                                     alt={\"product_\" + element.id}/>\n                                                <figcaption className=\"product-name\">\n                                                    product {element.id}\n                                                </figcaption>\n                                            </figure>\n                                            <section className=\"product-info\">\n                                                <div className=\"product-info-price\">\n                                                    <i className=\"fas fa-2x fa-tag label\"/>\n                                                    <h3>{element.price / 100} zł</h3>\n                                                </div>\n                                                <div className=\"product-info-add\">\n                                                    <i className=\"fas fa-2x fa-plus-square\"\n                                                       onClick={this.basketAdd(element)}/>\n                                                </div>\n                                            </section>\n                                        </div>\n                                    </li>\n                                )}\n                                {(currentProducts.length % 3 !== 0) &&\n                                (currentProducts.length % 3 === 2) ?\n                                <li className=\"invisible-product\"/>:\n                                <>\n                                    <li className=\"invisible-product\"/>\n                                    <li className=\"invisible-product\"/>\n                                </>}\n                            </ul>\n                            <ul className=\"products-content-pages\">\n                            {numberOfPages !== 1 &&\n                                <>\n                                    {pageNumbers}\n                                </>}\n                            </ul>\n                        </div>\n                    </div>\n                </section>\n            </>\n        )\n    }\n}\n\nexport default Products;"]},"metadata":{},"sourceType":"module"}